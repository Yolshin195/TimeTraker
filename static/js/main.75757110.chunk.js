(this.webpackJsonpclient_time_treker=this.webpackJsonpclient_time_treker||[]).push([[0],[,,,,,,,function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var n=a(0),r=a.n(n),o=a(14),s={hostName:"https://timetraker.herokuapp.com",token:null},i=r.a.createContext({api:new o.a({hostName:s.hostName})});t.a=i},,function(e,t,a){"use strict";t.a=function(e){var t=e.status,a=e.children;return t?a:null}},,,function(e,t,a){e.exports={Modal:a(45).default}},,function(e,t,a){"use strict";var n=a(3),r=a(4),o=function(){function e(t){Object(n.a)(this,e),this.token=t.token||null,this.hostName=t.hostName}return Object(r.a)(e,[{key:"setToken",value:function(e){this.token=e}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return"ok"!==e.status?Promise.reject(e.error):Promise.resolve(e.response)}))}))},{key:"fetchPost",value:function(e,t){var a="body=".concat(JSON.stringify(t));return fetch(e,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){return"ok"!==e.status?Promise.reject(e.error):Promise.resolve(e.response)}))}},{key:"register",value:function(e){var t={set:e},a="".concat(this.hostName,"?cmd=register&data=").concat(t);return this.fetchPost(a,t)}},{key:"signIn",value:function(e){var t={where:e},a="".concat(this.hostName,"?cmd=signin");return this.fetchPost(a,t)}},{key:"add",value:function(e,t){var a=JSON.stringify({model:e,set:t}),n="".concat(this.hostName,"?cmd=add&data=").concat(a,"&sig=").concat(this.token);return this.fetch(n)}},{key:"update",value:function(e,t,a){var n=JSON.stringify({model:e,set:t,where:a}),r="".concat(this.hostName,"?cmd=update&data=").concat(n,"&sig=").concat(this.token);return this.fetch(r)}},{key:"list",value:function(e,t){var a={model:e};(function(e){for(var t in e)return!1;return!0})(t)||(a.where=t);var n="".concat(this.hostName,"?cmd=list&data=").concat(JSON.stringify(a),"&sig=").concat(this.token);return this.fetch(n)}},{key:"view",value:function(e,t){var a=JSON.stringify({model:e,id:t}),n="".concat(this.hostName,"?cmd=view&data=").concat(a,"&sig=").concat(this.token);return this.fetch(n)}},{key:"del",value:function(e,t){var a=JSON.stringify({model:e,id:t}),n="".concat(this.hostName,"?cmd=del&data=").concat(a,"&sig=").concat(this.token);return this.fetch(n)}},{key:"exportExcel",value:function(e,t){var a=JSON.stringify({model:e,where:t}),n="".concat(this.hostName,"?cmd=excel&data=").concat(a,"&sig=").concat(this.token);return console.log("export excel: ",a),console.log("url: ",n),window.open(n),Promise.resolve(null)}},{key:"desctiption",value:function(e){var t=JSON.stringify({model:e}),a="".concat(this.hostName,"?cmd=descriptor&data=").concat(t,"&sig=").concat(this.token);return this.fetch(a)}}]),e}();t.a=o},function(e,t,a){function n(e){return e>9?e:"0"+e}e.exports={getMonth:a(41),formatDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return"".concat(t,"-").concat(n(a),"-").concat(n(r))}}},function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(19),s=a(50).default,i=a(51).default;var l=function(e){var t=e.type,a=void 0===t?"":t,n=e.label,l=e.value,c=e.onChange,u=a.toLocaleLowerCase().split("&"),m=Object(o.a)(u),d=m[0],h=m.slice(1);switch(d){case"delete":return null;case"label":return r.a.createElement(i,{type:h.join("&"),label:n,value:l});case"input":return r.a.createElement(s,{type:h.join("&"),label:n,value:l,onChange:c});default:return r.a.createElement(s,{type:a,label:n,value:l,onChange:c})}};t.a=function(e){var t=e.keys,a=void 0===t?[]:t,n=e.fields,o=void 0===n?{}:n,s=e.row,i=void 0===s?{}:s,c=e.onChange;return r.a.createElement("div",null,a.map((function(e){return r.a.createElement(l,{type:o[e],key:e+o[e],label:e,value:i[e],onChange:c})})))}},,function(e,t,a){"use strict";var n=a(8),r=a(2),o=a(3),s=a(4),i=a(1),l=a(6),c=a(5),u=a(0),m=a.n(u),d=a(7),h=a(9),f=a(12),b=a(16),p=(a(47),function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoadding:!1,showRows:!1,showModalAddRow:!1,showModalEditRow:!1,desctiption:{keys:[],fields:{}},row:{title:"Loadding ..."},rows:[],error:null},n.handlerChange=n.handlerChange.bind(Object(i.a)(n)),n.handleChangeRow=n.handleChangeRow.bind(Object(i.a)(n)),n.handlerSelectRow=n.handlerSelectRow.bind(Object(i.a)(n)),n.handleAddRow=n.handleAddRow.bind(Object(i.a)(n)),n.handleShowModalAddRow=n.handleShowModalAddRow.bind(Object(i.a)(n)),n.handleShowModalEditRow=n.handleShowModalEditRow.bind(Object(i.a)(n)),n.findByTitle=n.findByTitle.bind(Object(i.a)(n)),n.getRow=n.getRow.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.context.api.desctiption(this.props.modelName).then((function(t){return e.setState((function(){return{desctiption:t,isLoadding:!1}}))})).catch((function(t){return e.setState((function(){return{error:t.message}}))})),this.findByTitle(),this.getRow()}},{key:"getRow",value:function(){var e=this,t=this.props,a=t.value,n=t.modelName;return a?this.context.api.view(n,a).then((function(t){return e.setState((function(){return{row:t[0]}}))})).catch((function(t){return e.setState((function(){return{error:t.message}}))})):null}},{key:"findByTitle",value:function(e){var t=this,a=this.context.api,n=e?{title:"LIKE-".concat(e)}:{};return a.list(this.props.modelName,n).then((function(a){return t.setState((function(){return{rows:a,row:Object(r.a)(Object(r.a)({},t.state.row),{},{title:e}),isLoadding:!1}}))})).catch((function(e){return t.setState((function(){return{error:e.message}}))}))}},{key:"handleAddRow",value:function(){var e=this;return this.setState({isLoadding:!0}),this.context.api.add(this.props.modelName,this.state.row).then((function(t){return e.setState((function(){return{isLoadding:!1}}))})).then(this.findByTitle(this.state.row.title)).catch((function(t){return e.setState((function(){return{error:t.message}}))}))}},{key:"handlerChange",value:function(e){var t=e.target;this.findByTitle(t.value)}},{key:"handlerShowRows",value:function(e){this.setState((function(){return{showRows:e}}))}},{key:"handleShowModalAddRow",value:function(e){this.setState((function(){return{showModalAddRow:e,row:{}}}))}},{key:"handleShowModalEditRow",value:function(e){this.state.row.hasOwnProperty("id")||(e=!1),this.setState((function(){return{showModalEditRow:e}}))}},{key:"handleChangeRow",value:function(e,t){var a=this;this.setState((function(){return{row:Object(r.a)(Object(r.a)({},a.state.row),{},Object(n.a)({},e,t))}}))}},{key:"handlerSelectRow",value:function(e){this.setState({showRows:!1,row:e}),this.props.onChange&&this.props.onChange(this.props.label,e.id)}},{key:"render",value:function(){var e=this,t=this.props.label;return m.a.createElement("div",{className:"form-group mt-2",key:" modal form "+this.props.modelName},m.a.createElement(h.a,{status:!!t},m.a.createElement("label",{htmlFor:t},t)),m.a.createElement("div",{className:"input-group ".concat(this.state.showRows?"show":"")},m.a.createElement("input",{type:"text",id:t,className:"form-control Filter-input",placeholder:"Filter to model list",onChange:this.handlerChange,value:this.state.row.title,onFocus:function(){return e.setState((function(){return{showRows:!0,row:Object(r.a)(Object(r.a)({},e.state.row),{},{title:""})}}))}}),m.a.createElement("div",{className:"input-group-append"},m.a.createElement("button",{className:"btn btn-outline-secondary Filter-btn-show",type:"button",onClick:this.handleShowModalEditRow},m.a.createElement("i",{className:"bi bi-files"})),m.a.createElement("button",{className:"btn btn-outline-secondary Filter-btn-show",onClick:function(){return e.handlerShowRows(!e.state.showRows)},type:"button"},m.a.createElement("i",{className:"bi bi-chevron-down"})))),m.a.createElement(h.a,{status:this.state.showRows},m.a.createElement("div",{className:"card Filter-list"},m.a.createElement("ul",{className:"list-group list-group-flush"},m.a.createElement(h.a,{status:0===this.state.rows.length&&""!==this.state.row.title},m.a.createElement("li",{className:"list-group-item Filter-list-item",onClick:this.handleAddRow},"Create")),this.state.rows.map((function(t){return m.a.createElement("li",{className:"list-group-item Filter-list-item",key:t.id+t.title,onClick:function(){return e.handlerSelectRow(t)}},t.title)}))),m.a.createElement("div",{className:"card-footer p-0 flex justify-content-end"},m.a.createElement("div",{className:"btn-group"},m.a.createElement("button",{className:"btn btn-outline-success"},"all"),m.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){return e.handleShowModalAddRow(!0)}},"add"))))),m.a.createElement(h.a,{status:this.state.showModalAddRow},m.a.createElement(f.Modal,{show:this.state.showModalAddRow,onClick:function(){return e.handleShowModalAddRow(!1)}},"Add new ".concat(this.props.modelName),m.a.createElement(b.a,{row:this.state.row,keys:this.state.desctiption.keys,fields:this.state.desctiption.fields,onChange:this.handleChangeRow}),m.a.createElement("button",{className:"btn btn-success",onClick:this.handleAddRow},"Add"))),m.a.createElement(h.a,{status:this.state.showModalEditRow},m.a.createElement(f.Modal,{show:this.state.showModalEditRow,onClick:function(){return e.handleShowModalEditRow(!1)}},"Edit ".concat(this.props.modelName),m.a.createElement(b.a,{row:this.state.row,keys:this.state.desctiption.keys,fields:this.state.desctiption.fields,onChange:this.handleChangeRow}),m.a.createElement("button",{className:"btn btn-success",onClick:this.handleUpdateRow},"Update"),m.a.createElement("button",{className:"btn btn-danger"},"Delete"))))}}]),a}(m.a.Component));p.contextType=d.a,t.a=p},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=(a(40),a(15));function s(e){var t=e.className,a=e.days,n=e.selectDay,s=e.date,i=e.currentMonth,l=e.currentDay,c=e.onClick;return a.map((function(e,a){if(i&&l===e)return r.a.createElement("div",{className:t,key:a},r.a.createElement("div",{className:"curretnDay",onClick:function(){return c(e)}},e));if(n&&s){var u=Object(o.formatDate)(new Date(s.getFullYear(),s.getMonth(),e));if(n.includes(u))return r.a.createElement("div",{className:t,key:a},r.a.createElement("div",{className:"selectDay",onClick:function(){return c(e)}},e))}return r.a.createElement("div",{className:t,key:a,onClick:function(){return c(e)}},e)}))}t.default=function(e){var t=e.date,a=e.select,n=e.onChange;t=new Date(t.getFullYear(),t.getMonth());var i=Object(o.getMonth)(t);return r.a.createElement("div",null,r.a.createElement("div",{className:"Month-title"},r.a.createElement("div",{onClick:function(){return n("month")}},t.toLocaleString("ru",{year:"numeric",month:"long"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return n("previous")},className:"btn"},"<"),r.a.createElement("button",{onClick:function(){return n("next")},className:"btn"},">"))),r.a.createElement("div",{className:"gridMont"},r.a.createElement(s,{onClick:function(){},className:"otherTextStyle",days:i[0]}),r.a.createElement(s,{onClick:function(){},className:"otherTextStyle",days:i[1]}),r.a.createElement(s,{onClick:n,days:i[2],currentMonth:i[4],currentDay:i[5],selectDay:a,date:t}),r.a.createElement(s,{onClick:function(){},className:"otherTextStyle",days:i[3]})))}},,function(e,t,a){},,function(e,t,a){e.exports={Tasks:a(52).default}},function(e,t,a){e.exports={Timer:a(38).default}},function(e,t,a){e.exports={Month:a(23).default,FilterDate:a(43).default}},function(e,t,a){e.exports=a(49)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(3),o=a(4),s=a(1),i=a(6),l=a(5),c=a(0),u=a.n(c),m=(a(39),a(7)),d=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={run:!1,timer_begin_date:null,timer_end_date:null,time:0,timerId:null,extraTime:0,timers:[]},n.onClick=n.onClick.bind(Object(s.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.context.api.list("timers",{task_id:this.props.task_id}).then((function(t){return e.setState((function(){return{timers:t,extraTime:e.getExtraTime(t)}}))})).catch(console.log)}},{key:"onClick",value:function(){var e=this;this.setState((function(t){var a={};return t.run?(clearInterval(e.timerId),a.run=!1,a.timer_end_date=new Date,t.time>=6e4&&(a.timers=[{timer_begin_date:t.timer_begin_date,timer_end_date:a.timer_end_date}].concat(Object(n.a)(t.timers)),a.extraTime=e.getExtraTime(a.timers),a.time=0,console.log("Timer onClick: ",a.timer_end_date),e.context.api.add("timers",{task_id:e.props.task_id,timer_begin_date:t.timer_begin_date,timer_end_date:a.timer_end_date})),a):(e.timerId=setInterval((function(){e.setState((function(){return{time:e.getTime()}}))}),200),{run:!0,timer_begin_date:new Date,timer_end_date:null})}))}},{key:"getExtraTime",value:function(e){return e.reduce((function(e,t){return e+(("string"===typeof t.timer_end_date?new Date(t.timer_end_date):t.timer_end_date)-("string"===typeof t.timer_begin_date?new Date(t.timer_begin_date):t.timer_begin_date))}),0)}},{key:"getTime",value:function(){return null===this.state.timer_begin_date?0:null===this.state.timer_end_date?new Date-this.state.timer_begin_date:this.state.timer_end_date-this.state.timer_begin_date}},{key:"time",value:function(e){return{h:Math.trunc(e/36e5%60),m:Math.trunc(e/6e4%60),s:Math.trunc(e/1e3%60)}}},{key:"TimeFormat",value:function(e){var t=e.h,a=e.m,n=e.s;return a=a>9?a:"0"+a,n=n>9?n:"0"+n,"".concat(t=t>9?t:"0"+t,":").concat(a,":").concat(n)}},{key:"TimeFormatH",value:function(e){return(e.h+e.m/60).toFixed(2)}},{key:"render",value:function(){var e=this.time(this.state.time+this.state.extraTime),t=this.state.run?"Timer-btn Timer-btn-danger":"Timer-btn Timer-btn-success";return u.a.createElement("div",{className:"Timer"},u.a.createElement("button",{className:t,onClick:this.onClick},this.TimeFormat(e)," - ",this.TimeFormatH(e)))}}]),a}(u.a.Component);d.contextType=m.a,t.default=d},function(e,t,a){},function(e,t,a){},function(e,t,a){var n=a(42),r=["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"];e.exports=function(e){var t=e.getDay(),a=n(e),o=n(new Date(e.getFullYear(),e.getMonth()-1)),s=42-(t+a),i=(new Date).getMonth()===e.getMonth(),l=i?(new Date).getDate():0;return[r,new Array(t).fill().map((function(e,t){return o-t})).reverse(),new Array(a).fill().map((function(e,t){return t+1})),new Array(s).fill().map((function(e,t){return 1+t})),i,l]}},function(e,t){e.exports=function(e){return 32-new Date(e.getFullYear(),e.getMonth(),32).getDate()}},function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(2),o=a(3),s=a(4),i=a(1),l=a(6),c=a(5),u=a(0),m=a.n(u),d=a(23),h=a(15),f=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={currentDate:new Date,select:[]},n.onChangeFilter=n.onChangeFilter.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"getFirstAndLastMonth",value:function(e){return{from:new Date(e.getFullYear(),e.getMonth(),1),to:new Date(e.getFullYear(),e.getMonth()+1,0)}}},{key:"onChangeFilter",value:function(e){var t=this.state,a={},o=t.currentDate;switch(e){case"month":a={currentDate:new Date,select:[]};break;case"next":a=Object(r.a)(Object(r.a)({},t),{},{currentDate:new Date(o.getFullYear(),o.getMonth()+1)});break;case"previous":a=Object(r.a)(Object(r.a)({},t),{},{currentDate:new Date(o.getFullYear(),o.getMonth()-1)});break;default:if(isNaN(Number(e)))a={};else{var s=o.getFullYear(),i=o.getMonth(),l=Number(e),c=Object(h.formatDate)(new Date(s,i,l));a={select:t.select.includes(c)?t.select.filter((function(e){return e!==c})):[].concat(Object(n.a)(t.select),[c])}}}if(this.props.onChange)if(0===a.select.length){var u=a.currentDate?a.currentDate:t.currentDate;this.props.onChange(this.getFirstAndLastMonth(u))}else this.props.onChange(a.select);this.setState((function(e){return a}))}},{key:"render",value:function(){return m.a.createElement(d.default,{onChange:this.onChangeFilter,date:this.state.currentDate,select:this.state.select})}}]),a}(m.a.Component);t.default=f},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(3),o=a(4),s=a(1),i=a(6),l=a(5),c=a(0),u=a.n(c),m=(a(46),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onClose=n.onClose.bind(Object(s.a)(n)),n}return Object(o.a)(a,[{key:"onClose",value:function(e){if(e.target.classList.contains("modal"))return this.props.onClick()}},{key:"render",value:function(){if(this.props.show){var e=Object(n.a)(this.props.children),t=e[0],a=e[1],r=e.slice(2);return[u.a.createElement("div",{className:"modal",style:{display:"block"},role:"dialog",onClick:this.onClose},u.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable",role:"document"},u.a.createElement("div",{className:"modal-content"},u.a.createElement("div",{className:"modal-header"},t,u.a.createElement("button",{onClick:this.props.onClick,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},u.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),u.a.createElement("div",{className:"modal-body"},a),u.a.createElement("div",{className:"modal-footer"},u.a.createElement("button",{key:"close",type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.props.onClick},"Close"),r)))),u.a.createElement("div",{className:"modal-backdrop"})]}return null}}]),a}(u.a.Component));t.default=m},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),s=a.n(o),i=(a(35),a(3)),l=a(4),c=a(6),u=a(5),m=a(8),d=a(2),h=a(1),f=a(27),b=a(29),p=(a(44),a(7)),g=a(18).a,v=a(16).a,k=a(9),w=a(12);function E(e){return e>9?e:"0"+e}function y(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return"".concat(t,"-").concat(E(a),"-").concat(E(n))}var N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r=new Date,o=new Date(r.getFullYear(),r.getMonth(),1),s=new Date(r.getFullYear(),r.getMonth()+1,0);return n.state={isLoadding:!1,isError:!1,clients:[],tasks:[],timers:[],filter:{date_create:{from:y(o),to:y(s)}},modal:!1,modalNew:!1,formTask:{},modelName:"task",keys:[],fields:{}},n.getTasks=n.getTasks.bind(Object(h.a)(n)),n.onUpdate=n.onUpdate.bind(Object(h.a)(n)),n.onDel=n.onDel.bind(Object(h.a)(n)),n.onAdd=n.onAdd.bind(Object(h.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(h.a)(n)),n.handleShowTask=n.handleShowTask.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.context.api.desctiption(this.state.modelName).then((function(t){return e.setState((function(){return{keys:t.keys||[],fields:t.fields||{},isLoadding:!1,isError:!1}}))})).catch((function(t){return e.setState((function(){return{error:t.message}}))}))}},{key:"getTasks",value:function(e){var t=this;return e||(e=this.state),this.context.api.list(this.state.modelName,e.filter).then((function(a){return t.setState((function(){return Object(d.a)(Object(d.a)({},e),{},{tasks:a,isLoading:!1,isError:!1})}))})).catch((function(a){return t.state.setState((function(){return Object(d.a)(Object(d.a)({},e),{},{isError:!0,isLoading:!1})}))}))}},{key:"onUpdate",value:function(){var e=this;return this.context.api.update(this.state.modelName,this.state.formTask,{id:this.state.formTask.id}).then((function(){return e.setState((function(e){return{modal:!1,madalNew:!1,tasks:e.tasks.map((function(t){return t.id===e.formTask.id?e.formTask:t}))}}))})).catch(console.log)}},{key:"onDel",value:function(){var e=this;return this.context.api.del(this.props.modelName,this.props.formTask.id).then((function(){return e.props.setState((function(t){return{modal:!1,madalNew:!1,tasks:t.tasks.filter((function(t){return t.id!==e.props.formTask.id}))}}))})).catch(console.log)}},{key:"onAdd",value:function(e){var t=this;for(var a in e)if(""===e[a])return null;this.context.api.add(this.state.modelName,e).then((function(){return t.getTasks(Object(d.a)(Object(d.a)({},t.props),{},{modal:!1}))})).catch(console.log)}},{key:"handleChange",value:function(e,t){var a=this;return console.log(e,t),this.setState((function(){return{formTask:Object(d.a)(Object(d.a)({},a.state.formTask),{},Object(m.a)({},e,t))}}))}},{key:"handleShowTask",value:function(e,t){if(!e.classList.contains("Timer-btn")){var a=this.state.tasks.find((function(e){return e.id===t}));this.setState((function(){return{formTask:a,modal:!0,modalNew:!1}}))}}},{key:"handleCloseModal",value:function(){this.setState((function(){return{modal:!1,modalNew:!1}}))}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Page"},r.a.createElement("div",{className:"Header"},r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Time Tracker"),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{className:"btn btn-outline-success",type:"button",onClick:function(){return e.setState({modal:!0,modalNew:!0,formTask:{category_id:e.state.filter.category_id,date_create:(new Date).getTime()}})}},"New Task"),r.a.createElement("button",{className:"btn btn-outline-success",type:"button",onClick:function(){e.context.api.exportExcel(e.state.modelName,e.state.filter).then(console.log).catch(console.log)}},"Export excel"),r.a.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return e.context.signOff()}},"Sign out")))),r.a.createElement("div",{className:"Nav"},r.a.createElement(b.FilterDate,{onChange:function(t){return e.getTasks(Object(d.a)(Object(d.a)({},e.state),{},{filter:Object(d.a)(Object(d.a)({},e.state.filter),{},{date_create:t})}))}}),r.a.createElement(g,{value:this.state.filter.task_parent,modelName:"category",onChange:function(t,a){return e.getTasks(Object(d.a)(Object(d.a)({},e.state),{},{filter:Object(d.a)(Object(d.a)({},e.state.filter),{},{category_id:a})}))}})),r.a.createElement("div",{className:"Article"},r.a.createElement(f.Tasks,{tasks:this.state.tasks,error:this.state.isError,loading:this.state.isLoading,onShowTask:this.handleShowTask}))),r.a.createElement(k.a,{status:this.state.modalNew&&this.state.modal},r.a.createElement(w.Modal,{show:this.state.modal,onClick:this.handleCloseModal},r.a.createElement("h5",{key:"title",className:"modal-title"},"New task"),r.a.createElement(v,{row:this.state.formTask,keys:this.state.keys,fields:this.state.fields,onChange:this.handleChange}),r.a.createElement("button",{key:"add",onClick:function(){return e.onAdd(e.state.formTask)},className:"btn btn-success"},"Add"))),r.a.createElement(k.a,{status:!this.state.modalNew&&this.state.modal},r.a.createElement(w.Modal,{show:this.state.modal,onClick:this.handleCloseModal},r.a.createElement("h5",{key:"title",className:"modal-title"},"Show task"),r.a.createElement(v,{row:this.state.formTask,keys:this.state.keys,fields:this.state.fields,onChange:this.handleChange}),r.a.createElement("button",{key:"delete",onClick:this.onDel,className:"btn btn-danger"},"Delete"),",",r.a.createElement("button",{key:"update",onClick:this.onUpdate,className:"btn btn-success"},"Update"))))}}]),a}(r.a.Component);N.contextType=p.a;var C=N;a(25);var O=function(e){var t=e.signin,a=e.register,n=e.onChange,o=e.user_name,s=e.password,i=e.remember;return r.a.createElement("div",{className:"form-signin"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Time Tracker")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputUsername"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"InputUsername","aria-describedby":"usernameHelp",placeholder:"Username",name:"user_name",onChange:n,value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",name:"password",onChange:n,value:s})),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1",name:"remember",onChange:n,checked:i}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Remember me")),r.a.createElement("div",{className:"btn-group btn-group-lg btn-group-form",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:"btn btn-outline-primary",type:"submit",onClick:a},"Register"),r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:t},"Sign in")),r.a.createElement("p",{className:"mt-5 mb-3 text-muted text-center"},"\xa9 2019"))};var j=function(e){var t=e.signin,a=e.register,n=e.onChange,o=e.email,s=e.user_name,i=e.password,l=e.remember;return r.a.createElement("div",{className:"form-signin"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Time Tracker")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputEmail"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",id:"InputEmail","aria-describedby":"emailHelp",placeholder:"Email",name:"email",onChange:n,value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputUsername"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"InputUsername","aria-describedby":"usernameHelp",placeholder:"Username",name:"user_name",onChange:n,value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",name:"password",onChange:n,value:i})),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1",name:"remember",onChange:n,checked:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Remember me")),r.a.createElement("div",{className:"btn-group btn-group-lg btn-group-form",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:a},"Register"),r.a.createElement("button",{className:"btn btn-outline-primary",type:"submit",onClick:t},"Sign in")),r.a.createElement("p",{className:"mt-5 mb-3 text-muted text-center"},"\xa9 2019"))},T=a(14);function S(e,t){if(!window.localStorage)return null;localStorage.setItem(e,t)}function x(e){return window.localStorage||window.localStorage.length?localStorage.getItem(e):null}function _(e){return!!window.localStorage&&localStorage.removeItem(e)}var D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r=null,o="true"===x("remember");return o?r=x("token"):_("token"),n.state={user_name:"",password:"",remember:o,status:"signin",api:new T.a({hostName:p.b.hostName,token:r||p.b.token}),authorized:!(!o||!r)},n.register=n.register.bind(Object(h.a)(n)),n.signIn=n.signIn.bind(Object(h.a)(n)),n.signOff=n.signOff.bind(Object(h.a)(n)),n.onChange=n.onChange.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"signOff",value:function(){_("token"),_("remember"),this.setState((function(){return{authorized:!1}}))}},{key:"onChange",value:function(e){var t=e.target;this.setState((function(){return t.hasOwnProperty("checked")?Object(m.a)({},t.name,t.checked):Object(m.a)({},t.name,t.value)}))}},{key:"signIn",value:function(){var e=this;return this.state.api.signIn({user_name:this.state.user_name,password:this.state.password}).then((function(t){var a=t.token;S("token",a),S("remember",e.state.remember),e.setState((function(){return{api:new T.a({hostName:p.b.hostName,token:a}),authorized:!!a}}))})).catch(console.log)}},{key:"register",value:function(){var e=this;return this.state.api.register({user_name:this.state.user_name,password:this.state.password,email:this.state.email,type:"user"}).then((function(t){var a=t.token;return e.signIn(a)})).catch(console.log)}},{key:"render",value:function(){var e=this;return this.state.authorized?r.a.createElement(p.a.Provider,{value:{api:this.state.api,signOff:this.signOff}},this.props.children,";"):"signin"===this.state.status?r.a.createElement(O,Object.assign({},this.state,{register:function(){return e.setState((function(){return{status:"register"}}))},signin:this.signIn,onChange:this.onChange})):"register"===this.state.status?r.a.createElement(j,Object.assign({},this.state,{signin:function(){return e.setState((function(){return{status:"signin"}}))},register:this.register,onChange:this.onChange})):void 0}}]),a}(r.a.Component);D.contextType=p.a;var M=D,R=(a(48),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(M,null,r.a.createElement(C,null))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(0),o=a.n(r);var s=function(e){var t=e.label,a=e.value,n=e.onChange;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:t},t),o.a.createElement("input",{type:"text",className:"form-control",id:t,placeholder:"Enter ".concat(t),value:a,onChange:function(e){var a=e.target;n(t,a.value)}}))};var i=function(e){var t=e.label,a=e.value,s=e.onChange,i=new Date(a),l=Object(r.useState)(i.toLocaleTimeString()),c=Object(n.a)(l,2),u=c[0],m=c[1],d=Object(r.useState)(i.toLocaleDateString().split(".").reverse().join("-")),h=Object(n.a)(d,2),f=h[0],b=h[1],p=function(e){var a=e.target;return"date"===a.name&&b(a.value),"time"===a.name&&m(a.value),s(t,new Date("".concat(f,"T").concat(u)).getTime())};return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:t},"date ",t),o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"date",name:"date",className:"form-control",id:t,placeholder:"Enter ".concat(t),value:f,onChange:p}),o.a.createElement("input",{type:"time",name:"time",className:"form-control",id:t,placeholder:"Enter ".concat(t),value:u,onChange:p})))},l=a(18);var c=function(e){var t=e.label,a=e.value,n=void 0!==a&&a,r=e.onChange;return o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:t,checked:n,onChange:function(e){var a=e.target;r(t,Boolean(a.checked))}}),o.a.createElement("label",{className:"form-check-label",htmlFor:t},"Check ",t))};var u=function(e){var t=e.label,a=e.value,n=e.onChange;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:t},t),o.a.createElement("textarea",{className:"form-control",id:t,rows:"3",onChange:function(e){var a=e.target;n(t,a.value)},placeholder:"Enter ".concat(t)},a))};t.default=function(e){var t=e.type,a=void 0===t?"":t,r=e.label,m=e.value,d=e.onChange,h=a.split("&"),f=Object(n.a)(h,2),b=f[0],p=f[1];switch(b.toLocaleLowerCase()){case"date":return o.a.createElement(i,{label:r,value:m,onChange:d});case"boolean":return o.a.createElement(c,{label:r,value:m,onChange:d});case"text":return o.a.createElement(u,{label:r,value:m,onChange:d});case"model":return o.a.createElement(l.a,{label:r,modelName:p,value:m,onChange:d});default:return o.a.createElement(s,{label:r,value:m,onChange:d})}}},function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(0),o=a.n(r);var s=function(e){var t=e.label,a=e.value;return o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:t,className:"col-sm-3 col-form-label"},t),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",readOnly:!0,className:"form-control-plaintext",id:t,defaultValue:a})))};var i=function(e){var t=e.label,a=e.value,n=void 0!==a&&a;return o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:t,defaultChecked:Boolean(n),readOnly:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:t},t))};t.default=function(e){var t,a=e.type,r=void 0===a?"":a,l=e.label,c=e.value,u=r.toLocaleLowerCase().split("-"),m=Object(n.a)(u,2),d=m[0];switch(m[1],d){case"date":return o.a.createElement(s,{label:l,value:(t=c,new Date(Number(t)).toLocaleDateString())});case"boolean":return o.a.createElement(i,{label:l,value:c});case"model":default:return o.a.createElement(s,{label:l,value:c})}}},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=(a(36),a(37),a(28)),s=a(3),i=a(4),l=a(6),c=a(5),u=a(7),m=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={row:{},error:null},n}return Object(i.a)(a,[{key:"getModel",value:function(){var e=this,t=this.props,a=t.modelName,n=t.id;this.context.api.view(a,n).then((function(t){return e.setState((function(){return{row:t[0]}}))})).catch((function(t){return e.setState((function(){return{error:t}}))}))}},{key:"componentDidMount",value:function(){this.getModel()}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.label,n=this.state.row;return n.hasOwnProperty(a||"title")?n[a||"title"]:t}}]),a}(r.a.Component);m.contextType=u.a;var d=m;var h=function(e){var t=e.id,a=e.date_create,n=e.client_id,s=e.title,i=e.onClick;return r.a.createElement("li",{onClick:i,className:"list-group-item list-group-item-action",style:{padding:"0px"}},r.a.createElement("div",{key:t,className:"Task"},r.a.createElement("div",{className:"Task-date"},new Date(a).toLocaleDateString()),r.a.createElement("div",{className:"Task-client"},r.a.createElement(d,{modelName:"client",id:n})),r.a.createElement("div",{className:"Task-description"},s),r.a.createElement("div",{className:"Task-timer"},r.a.createElement(o.Timer,{task_id:t}))))};t.default=function(e){for(var t=e.tasks,a=e.error,n=e.loading,o=e.onShowTask,s=[];;){if(a){s.push(r.a.createElement("div",{key:"TasksError",className:"TasksError"},"Error loading tasks"));break}if(n){s.push(r.a.createElement("div",{key:"TakssLoading",className:"TakssLoading"},"... Loading tasks"));break}t&&t.length>0?s=t.map((function(e){return r.a.createElement(h,Object.assign({onClick:function(t){var a=t.target;return o(a,e.id)},key:e.id},e))})):s.push(r.a.createElement("div",{key:"NoTasks",className:"NoTasks"},"No tasks"));break}return r.a.createElement("ul",{className:"list-gruop"},r.a.createElement("li",{className:"list-group-item",style:{padding:"0px"}},r.a.createElement("div",{className:"Task"},r.a.createElement("div",{className:"Task-date Task-heade-item-first"},"Date"),r.a.createElement("div",{className:"Task-client"},"Client"),r.a.createElement("div",{className:"Task-description"},"Description"),r.a.createElement("div",{className:"Task-timer Task-heade-timer"},"Timer"))),s)}}],[[30,1,2]]]);
//# sourceMappingURL=main.75757110.chunk.js.map