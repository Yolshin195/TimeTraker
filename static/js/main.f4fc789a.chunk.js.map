{"version":3,"sources":["AuthContext.js","Form/component/IF.js","ModalWindow/index.js","api.js","calendar/core/index.js","Form/component/Input/index.js","Form/component/Label/index.js","Form/component/SelectField.js","Form/Form.js","Form/ModalFormDelete.js","TreeList/component/Actions.js","TreeList/ListGroup.js","TreeList/List.js","Form/ModalFormSelect.js","Form/component/Input/Input-model.js","calendar/Month.js","Tasks/index.js","Timer/index.js","calendar/index.js","Timer/Timer.js","calendar/core/getMonth.js","calendar/core/daysInMonth.js","calendar/FilterDate.js","ModalWindow/ModalWindow.js","Filter/index.js","Filter/FilterCategory.js","Form/index.js","PageTask.js","Auth/SignIn.js","Auth/Register.js","localStorage.js","Auth/index.js","App.js","serviceWorker.js","index.js","Form/component/Input/Input.js","Form/component/Input/InputDate.js","Form/component/Input/Input-boolean.js","Form/component/Input/Input-textarea.js","Form/component/Input/SelectInput.js","Form/component/Label/Label.js","Form/component/Label/Label-boolean.js","Form/component/Label/SelectLabel.js","Form/component/Label/lib/text/dateToString.js","Form/component/Label/Label-model.js","Tasks/Task.js","Tasks/Tasks.js"],"names":["initAuth","hostName","token","AuthContext","React","createContext","api","Api","IF","status","children","module","exports","Modal","require","default","props","this","url","fetch","then","response","json","Promise","reject","error","resolve","data","formBody","JSON","stringify","method","body","set","fetchPost","where","model","obj","key","isEmpty","id","console","log","window","open","formatTwoNumber","number","getMonth","formatDate","date","y","getFullYear","m","d","getDate","InputSelect","Label","FieldSelect","type","label","value","onChange","toLocaleLowerCase","split","typeComponent","typeField","join","Input","Form","keys","fields","row","map","SelectField","ModalFormDelete","modelName","show","onClose","onDelete","onClick","className","Actions","onShow","onEdit","useState","setShow","ListGroup","rows","title","parent","List","onDoubleClick","length","hasOwnProperty","filter","isChildren","toString","ModalFormSelect","state","getAll","context","list","setState","isLoadding","catch","err","message","onSelect","styleBody","padding","Component","contextType","InputModel","showRows","showModalAddRow","showModalEditRow","showModalDeleteRow","showModalSelectRow","deleteRowId","desctiption","handlerChange","bind","handleChangeRow","handlerSelectRow","handleSelectNull","handleAddRow","handleShowModalAddRow","handleShowModalEditRow","handleShowRowsIsFocus","handleDeleteRow","handleUpdateRow","findByTitle","getRow","view","add","find","del","target","undefined","update","htmlFor","placeholder","onFocus","handlerShowRows","classList","contains","style","borderRadius","Days","days","selectDay","currentMonth","currentDay","el","Date","includes","Month","select","calendar","toLocaleString","year","month","Tasks","Timer","FilterDate","run","timer_begin_date","timer_end_date","time","timerId","extraTime","timers","task_id","getExtraTime","newState","clearInterval","setInterval","getTime","reduce","sum","timer","h","Math","trunc","s","toFixed","TimeFormat","TimeFormatH","daysInMonth","dayWeek","getDay","namberDaysCurrentMonth","namberDaysLastMonth","daysNext","Array","fill","reverse","currentDate","onChangeFilter","from","to","isNaN","Number","day","getFirstAndLastMonth","buttons","display","role","data-dismiss","aria-label","aria-hidden","FilterCategory","PageTask","firstDay","lastDay","isError","clients","tasks","date_create","modal","modalNew","modalDelete","formTask","getTasks","onUpdate","onDel","onAdd","handleCloseModal","handleShowTask","handleChange","isLoading","madalNew","task","href","category_id","exportExcel","signOff","Filter","task_parent","client_id","loading","onShowTask","SignIn","signin","register","user_name","password","remember","aria-describedby","name","checked","Register","email","setItem","localStorage","getItem","removeItem","Auth","authorized","signIn","Provider","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","InputDate","toLocaleTimeString","times","setTime","toLocaleDateString","dates","setDate","InputBoolean","InputTextarea","SelectInput","inputType","readOnly","defaultValue","LabelBoolean","defaultChecked","SelectLabel","str","LabelModel","getModel","Task","cursor","tasksEl","push"],"mappings":"6HAAA,8DAGaA,EAAW,CACtBC,SAAU,mCAEVC,MAAO,MAGHC,EAAcC,IAAMC,cAAc,CAAEC,IAAK,IAAIC,IAAI,CACrDN,SAAUD,EAASC,aAINE,O,6BCNAK,IARf,YAAiC,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,SACnB,OAAGD,EACMC,EAEA,O,iBCJXC,EAAOC,QAAU,CACfC,MAAOC,EAAQ,IAAoBC,U,kDCD/BR,E,WACJ,WAAYS,GAAQ,oBAClBC,KAAKf,MAAQc,EAAMd,OAAS,KAC5Be,KAAKhB,SAAWe,EAAMf,S,qDAGfC,GACPe,KAAKf,MAAQA,I,2IAGTgB,GACJ,OAAOC,MAAMD,GACZE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GACJ,MAAuB,OAApBA,EAASZ,OACHc,QAAQC,OAAOH,EAASI,OAG1BF,QAAQG,QAAQL,EAASA,iB,gCAI1BH,EAAKS,GACb,IAAIC,EAAQ,eAAWC,KAAKC,UAAUH,IAEtC,OAAOR,MAAMD,EAAK,CAChBa,OAAQ,OACRC,KAAMJ,IAEPR,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GACJ,MAAuB,OAApBA,EAASZ,OACHc,QAAQC,OAAOH,EAASI,OAG1BF,QAAQG,QAAQL,EAASA,e,+BAI3BY,GAEP,IAAMN,EAAO,CAACM,OACRf,EAAG,UAAMD,KAAKhB,SAAX,8BAAyC0B,GAClD,OAAOV,KAAKiB,UAAUhB,EAAKS,K,6BAGtBQ,GAEL,IAAMR,EAAO,CAACQ,SACRjB,EAAG,UAAMD,KAAKhB,SAAX,eACT,OAAOgB,KAAKiB,UAAUhB,EAAKS,K,0BAGzBS,EAAOH,GACT,IAAMN,EAAOE,KAAKC,UAAU,CAACM,QAAOH,QAC9Bf,EAAG,UAAMD,KAAKhB,SAAX,yBAAoC0B,EAApC,gBAAgDV,KAAKf,OAC9D,OAAOe,KAAKE,MAAMD,K,6BAGbkB,EAAOH,EAAKE,GACjB,IAAMR,EAAOE,KAAKC,UAAU,CAACM,QAAOH,MAAKE,UACnCjB,EAAG,UAAMD,KAAKhB,SAAX,4BAAuC0B,EAAvC,gBAAmDV,KAAKf,OACjE,OAAOe,KAAKE,MAAMD,K,2BAGfkB,EAAOD,GACV,IAAMR,EAAO,CAACS,UAuClB,SAAiBC,GACb,IAAI,IAAIC,KAAOD,EAEX,OAAO,EAEX,OAAO,GA1CHE,CAAQJ,KACVR,EAAKQ,MAAQA,GAGf,IAAMjB,EAAG,UAAMD,KAAKhB,SAAX,0BAAqC4B,KAAKC,UAAUH,GAApD,gBAAiEV,KAAKf,OAC/E,OAAOe,KAAKE,MAAMD,K,2BAGfkB,EAAOI,GACV,IAAMb,EAAOE,KAAKC,UAAU,CAACM,QAAOI,OAC9BtB,EAAG,UAAMD,KAAKhB,SAAX,0BAAqC0B,EAArC,gBAAiDV,KAAKf,OAC/D,OAAOe,KAAKE,MAAMD,K,0BAGhBkB,EAAOI,GACT,IAAMb,EAAOE,KAAKC,UAAU,CAACM,QAAOI,OAC9BtB,EAAG,UAAMD,KAAKhB,SAAX,yBAAoC0B,EAApC,gBAAgDV,KAAKf,OAC9D,OAAOe,KAAKE,MAAMD,K,kCAGRkB,EAAOD,GACjB,IAAMR,EAAOE,KAAKC,UAAU,CAACM,QAAOD,UAC9BjB,EAAG,UAAMD,KAAKhB,SAAX,2BAAsC0B,EAAtC,gBAAkDV,KAAKf,OAKhE,OAJAuC,QAAQC,IAAI,iBAAkBf,GAC9Bc,QAAQC,IAAI,QAASxB,GAErByB,OAAOC,KAAK1B,GACLK,QAAQG,QAAQ,Q,kCAGbU,GACV,IAAMT,EAAOE,KAAKC,UAAU,CAACM,UACvBlB,EAAG,UAAMD,KAAKhB,SAAX,gCAA2C0B,EAA3C,gBAAuDV,KAAKf,OACrE,OAAOe,KAAKE,MAAMD,O,KAYPX,O,gBC5Gf,SAASsC,EAAgBC,GACvB,OAAQA,EAAS,EAAKA,EAAS,IAAIA,EANrCnC,EAAOC,QAAU,CACfmC,SAAUjC,EAAQ,IAClBkC,WAOF,SAAoBC,GAClB,IAAIC,EAAID,EAAKE,cACTC,EAAIH,EAAKF,WAAW,EACpBM,EAAIJ,EAAKK,UAEb,MAAM,GAAN,OAAUJ,EAAV,YAAeL,EAAgBO,GAA/B,YAAqCP,EAAgBQ,O,yDCbxCE,EADKzC,EAAQ,IAAoBC,QCCjCyC,EADD1C,EAAQ,IAAoBC,QC0B3B0C,MAtBf,YAAyD,IAAD,IAAlCC,YAAkC,MAA7B,GAA6B,EAAzBC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAAW,EAIlDH,EAAKI,oBAAoBC,MAAM,KAJmB,iBAEpDC,EAFoD,KAGjDC,EAHiD,WAMtD,OAAOD,GACL,IAAK,SACH,OAAO,KACT,IAAK,QACH,OAAO,kBAAC,EAAD,CAAON,KAAMO,EAAUC,KAAK,KAAMP,MAAOA,EAAOC,MAAOA,IAChE,IAAK,QACH,OAAO,kBAACO,EAAD,CAAOT,KAAMO,EAAUC,KAAK,KAAMP,MAAOA,EAAOC,MAAOA,EAC5DC,SAAUA,IAEd,QACE,OAAO,kBAACM,EAAD,CAAOT,KAAMA,EAAMC,MAAOA,EAAOC,MAAOA,EAC7CC,SAAUA,MCAHO,IAlBf,YAAuD,IAAD,IAAvCC,YAAuC,MAAlC,GAAkC,MAA9BC,cAA8B,MAAvB,GAAuB,MAAnBC,WAAmB,MAAf,GAAe,EAAXV,EAAW,EAAXA,SAEzC,OACE,6BAEIQ,EAAKG,KAAI,SAAAlC,GAAG,OACV,kBAACmC,EAAD,CAAaf,KAAMY,EAAOhC,GACxBA,IAAKA,EAAMgC,EAAOhC,GAClBqB,MAAOrB,EACPsB,MAAOW,EAAIjC,GACXuB,SAAUA,U,iCCbtB,4BAkBea,IAff,YAAsE,IAA3CC,EAA0C,EAA1CA,UAAWnC,EAA+B,EAA/BA,GAAIoC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACvD,OACE,kBAAC,QAAD,CAAOF,KAAMA,EAAMG,QAASF,GAA5B,iBACaF,EADb,aAC2BnC,GACzB,6BACE,6EACA,2BAAOwC,UAAU,eAAjB,kCAEF,4BAAQA,UAAU,iBAChBD,QAASD,GADX,a,gJCgBSG,MAxBf,YAA8C,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,OAAQL,EAAW,EAAXA,SAAW,EACnBM,oBAAS,GADU,mBACpCR,EADoC,KAC9BS,EAD8B,KAG3C,OACE,yBAAKL,UAAU,gBACb,uBAAGA,UAAS,oBAAgBJ,EAC1B,mBAAmB,mBACnBG,QAAS,kBAAMM,GAAST,MAE1B,kBAACpE,EAAA,EAAD,CAAIC,OAAQmE,GACV,uBAAGI,UAAU,sBACXD,QAASI,IAEX,uBAAGH,UAAU,oBACXD,QAASG,IAEX,uBAAGF,UAAU,qBACXD,QAASD,OCCJQ,MAhBf,YAAkD,IAAD,IAA7BC,YAA6B,MAAxB,GAAwB,MAApBhB,WAAoB,MAAhB,GAAgB,EAAZI,EAAY,EAAZA,UAAY,EACvBS,oBAAS,GADc,mBACxCR,EADwC,KAClCS,EADkC,KAE/C,MAAO,CACL,wBAAI/C,IAAKiC,EAAI/B,GAAIwC,UAAU,iDACzB,uBAAGA,UAAS,oBAAgBJ,EAAM,kBAAkB,oBAClDG,QAAS,kBAAMM,GAAST,MAEzBL,EAAIiB,MACL,kBAAC,EAAD,CAASb,UAAWA,EAAWnC,GAAI+B,EAAI/B,GAAI+B,IAAKA,KAElD,kBAAC/D,EAAA,EAAD,CAAI8B,IAAKiC,EAAI/B,GAAG,OAAQ/B,OAAQmE,GAC9B,kBAAC,EAAD,CAAOW,KAAMA,EAAME,OAAQlB,EAAI/B,GAAImC,UAAWA,OCuCrCe,MAnDf,YAA8D,IAAD,IAA9CH,YAA8C,MAAzC,GAAyC,MAArCE,cAAqC,MAA9B,EAA8B,EAA3Bd,EAA2B,EAA3BA,UAAWgB,EAAgB,EAAhBA,cAK3C,OAAoB,IAAhBJ,EAAKK,QAAkBL,EAAK,GAAGM,eAAe,WAAcN,EAAK,GAAGM,eAAe,cAuBrF,wBAAIb,UAAU,+BAEVO,EAAKO,QAAO,SAAAvB,GAAG,OAAIA,EAAIkB,SAAWA,KACjCjB,KAAI,SAAAD,GAAG,OAAKA,EAAIwB,WACf,kBAAC,EAAD,CAAWzD,IAAKiC,EAAI/B,GAAG,YACrB+C,KAAMA,EACNhB,IAAKA,EACLI,UAAWA,EACXgB,cAAeA,IAEjB,wBAAIrD,IAAKiC,EAAI/B,GAAGwD,WACdhB,UAAU,+CACVW,cAAe,kBAAMA,EAAcpB,KAElCA,EAAIiB,MACL,kBAAC,EAAD,CAASb,UAAWA,EAAWnC,GAAI+B,EAAI/B,GAAI+B,IAAKA,SAnCtD,wBAAIS,UAAU,+BACbO,EAAKf,KAAI,SAAAD,GAAG,OACX,wBAAIjC,IAAKiC,EAAI/B,GAAGwD,WACdhB,UAAU,+CACVW,cAAe,kBAAMA,EAAcpB,KAElCA,EAAIiB,MACL,kBAAC,EAAD,CAASb,UAAWA,EAAWnC,GAAI+B,EAAI/B,GAAI+B,IAAKA,UCbpD0B,E,kDAEJ,WAAYjF,GAAQ,IAAD,8BACjB,cAAMA,IAEDkF,MAAQ,CACXX,KAAM,IAJS,E,gEASjBtE,KAAKkF,W,+BAGG,IAAD,OAGP,OAFYlF,KAAKmF,QAAQ9F,IAEd+F,KAAKpF,KAAKD,MAAM2D,WAC1BvD,MAAK,SAAAY,GAAI,OAAI,EAAKsE,UAAS,iBAAO,CACjCf,KAAMvD,EACNuE,YAAY,SAEbC,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,iB,+BAGvC,IAAD,EACwCzF,KAAKD,MAA5C2D,EADD,EACCA,UAAWC,EADZ,EACYA,KAAMC,EADlB,EACkBA,QAAS8B,EAD3B,EAC2BA,SAC1BpB,EAAStE,KAAKiF,MAAdX,KAER,OACE,kBAAC,QAAD,CAAOX,KAAMA,EAAMG,QAASF,EAAS+B,UAAW,CAACC,QAAQ,IAAzD,iBACalC,GACX,kBAAC,EAAD,CAAMA,UAAWA,EAAWY,KAAMA,EAAMI,cAAegB,S,GAhCjCvG,IAAM0G,WAsCpCb,EAAgBc,YAAc5G,IAEf8F,QCrCTe,G,wDACJ,WAAYhG,GAAQ,IAAD,8BACjB,cAAMA,IAEDkF,MAAQ,CACXK,YAAY,EACZU,UAAU,EACVC,iBAAiB,EACjBC,kBAAkB,EAClBC,oBAAoB,EACpBC,oBAAoB,EACpBC,YAAa,EACbC,YAAa,CAAClD,KAAK,GAAIC,OAAO,IAC9BC,IAAK,CACHiB,MAAO,gBAETD,KAAM,GACN9D,MAAO,MAGT,EAAK+F,cAAyB,EAAKA,cAAcC,KAAnB,gBAC9B,EAAKC,gBAAyB,EAAKA,gBAAgBD,KAArB,gBAC9B,EAAKE,iBAAyB,EAAKA,iBAAiBF,KAAtB,gBAC9B,EAAKG,iBAAyB,EAAKA,iBAAiBH,KAAtB,gBAC9B,EAAKI,aAAyB,EAAKA,aAAaJ,KAAlB,gBAC9B,EAAKK,sBAAyB,EAAKA,sBAAsBL,KAA3B,gBAC9B,EAAKM,uBAAyB,EAAKA,uBAAuBN,KAA5B,gBAC9B,EAAKO,sBAAyB,EAAKA,sBAAsBP,KAA3B,gBAC9B,EAAKQ,gBAAyB,EAAKA,gBAAgBR,KAArB,gBAC9B,EAAKS,gBAAyB,EAAKA,gBAAgBT,KAArB,gBAC9B,EAAKU,YAAc,EAAKA,YAAYV,KAAjB,gBACnB,EAAKW,OAAS,EAAKA,OAAOX,KAAZ,gBA9BG,E,gEAiCE,IAAD,OACNxG,KAAKmF,QAAQ9F,IAErBiH,YAAYtG,KAAKD,MAAM2D,WAC1BvD,MAAK,SAAAY,GAAI,OAAI,EAAKsE,UAAS,iBAAO,CACjCiB,YAAavF,EACbuE,YAAY,SAEbnF,KAAKH,KAAKmH,QACV5B,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,eAK/CzF,KAAKkH,gB,+BAGG,IAAD,SACsBlH,KAAKD,MAA1B4C,EADD,EACCA,MAAOe,EADR,EACQA,UAEf,OAAKf,EAIE3C,KAAKmF,QAAQ9F,IAAI+H,KAAK1D,EAAWf,GACvCxC,MAAK,SAAAmE,GAAI,OAAI,EAAKe,UAAS,iBAAO,CACjC/B,IAAMgB,EAAKK,OAAS,EAAKL,EAAK,GAAK,CAAEC,MAAO5B,UAE7C4C,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,eAPtC,O,kCAUClB,GAAQ,IAAD,OACXlF,EAAMW,KAAKmF,QAAQ9F,IACnB6B,EAASqD,EAAS,CAACA,MAAM,QAAD,OAAUA,IAAW,GAEnD,OAAOlF,EAAI+F,KAAKpF,KAAKD,MAAM2D,UAAWxC,GAErCf,MAAK,SAAAY,GAAI,OAAI,EAAKsE,UAAS,iBAAO,CACjCf,KAAMvD,EACNuC,IAAI,CAACiB,SACLe,YAAY,SAEbC,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,iB,qCAGjC,IAAD,OAGb,OAFAzF,KAAKqF,SAAS,CAACC,YAAY,IAEpBtF,KAAKmF,QAAQ9F,IAAIgI,IAAIrH,KAAKD,MAAM2D,UAAW1D,KAAKiF,MAAM3B,KAC5DnD,MAAK,kBAAM,EAAK+G,YAAY,EAAKjC,MAAM3B,IAAIiB,UAC3CpE,MAAK,SAAAY,GAAI,OAAI,EAAKsE,UAAS,SAAAJ,GAG1B,MAAO,CACLK,YAAY,EACZW,iBAAiB,EACjBD,UAAU,EACV1C,IANU2B,EAAMX,KAAKgD,MAAK,SAAAhE,GAAG,OAAIA,EAAIiB,QAAUU,EAAM3B,IAAIiB,gBAS5DgB,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,iB,wCAG9B,IAAD,OAChB,OAAOzF,KAAKmF,QAAQ9F,IACnBkI,IAAIvH,KAAKD,MAAM2D,UAAW1D,KAAKiF,MAAMoB,aACrClG,MAAK,kBAAM,EAAKkF,UAAS,iBAAM,CAC9Bc,oBAAoB,EACpBD,kBAAkB,EAClB5B,KAAM,EAAKW,MAAMX,KAAKO,QAAO,SAAAvB,GAAG,OAAIA,EAAI/B,KAAO,EAAK0D,MAAMoB,sBAE3Dd,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,iB,uCAGxB,IAAV+B,EAAS,EAATA,OACbxH,KAAKkH,YAAYM,EAAO7E,S,sCAGVA,GACd3C,KAAKqF,UAAS,iBAAO,CAACW,SAAUrD,Q,8CAGT,IAAD,OACtB,OAAO3C,KAAKkH,cACX/G,MAAK,kBAAM,EAAKkF,UAAS,iBAAO,CAC/BW,UAAU,EACV1C,IAAK,CAACiB,MAAO,WAEdgB,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,iB,4CAI3B9C,GACpB3C,KAAKqF,UAAS,iBAAO,CACnBY,gBAAiBtD,EACjBW,IAAK,S,6CAIcX,GAChB3C,KAAKiF,MAAM3B,IAAIsB,eAAe,QACjCjC,GAAQ,GAGV3C,KAAKqF,UAAS,iBAAO,CAACa,iBAAkBvD,Q,sCAG1BtB,EAAKsB,GAAQ,IAAD,OAC1B3C,KAAKqF,UAAS,iBAAO,CAAC/B,IAAI,2BACrB,EAAK2B,MAAM3B,KADS,kBAEtBjC,EAAMsB,U,uCAIMW,GACftD,KAAKqF,SAAS,CACZW,UAAU,EACVI,oBAAoB,EACpB9C,QAGCtD,KAAKD,MAAM6C,UACZ5C,KAAKD,MAAM6C,SAAS5C,KAAKD,MAAM2C,MAAOY,EAAI/B,M,yCAK5CvB,KAAKqF,SAAS,CACZW,UAAU,EACVI,oBAAoB,EACpB9C,IAAK,CAACiB,MAAO,MAGZvE,KAAKD,MAAM6C,UACZ5C,KAAKD,MAAM6C,SAAS5C,KAAKD,MAAM2C,WAAO+E,K,wCAIvB,IAAD,OAChB,OAAOzH,KAAKmF,QAAQ9F,IACnBqI,OAAO1H,KAAKD,MAAM2D,UAAW1D,KAAKiF,MAAM3B,IAAK,CAC5C/B,GAAIvB,KAAKiF,MAAM3B,IAAI/B,KAEpBpB,MAAK,kBAAM,EAAKkF,UAAS,SAAAJ,GAAK,MAAK,CAClCiB,kBAAkB,EAClB5B,KAAMW,EAAMX,KACTf,KAAI,SAAAD,GAAG,OAAKA,EAAI/B,KAAO0D,EAAM3B,IAAI/B,GAAK0D,EAAM3B,IAAKA,YAErDiC,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,iB,+BAGvC,IAAD,OACC/C,EAAU1C,KAAKD,MAAf2C,MAER,OACE,yBAAKqB,UAAU,kBAAkB1C,IAAK,eAAerB,KAAKD,MAAM2D,WAC9D,kBAACnE,EAAA,EAAD,CAAIC,SAAUkD,GACZ,2BAAOiF,QAASjF,GAAQA,IAE1B,yBAAKqB,UAAS,sBAAkB/D,KAAKiF,MAAMe,SAAU,OAAO,KAC1D,2BAAOvD,KAAK,OACVlB,GAAImB,EACJqB,UAAU,4BACV6D,YAAW,uBACXhF,SAAU5C,KAAKuG,cACf5D,MAAO3C,KAAKiF,MAAM3B,IAAIiB,MACtBsD,QAAS7H,KAAK+G,wBAGhB,yBAAKhD,UAAU,sBACb,4BAAQA,UAAU,4CAChBtB,KAAK,SACLqB,QAAS9D,KAAK8G,wBAEd,uBAAG/C,UAAU,iBAEf,4BAAQA,UAAU,4CAChBD,QAAS,kBAAM,EAAKgE,iBAAiB,EAAK7C,MAAMe,WAChDvD,KAAK,UAEL,uBAAGsB,UAAU,0BAMnB,kBAACxE,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAMe,UACvB,yBAAKjC,UAAU,oBACb,wBAAIA,UAAU,+BACd,kBAACxE,EAAA,EAAD,CAAIC,OAAoC,IAA3BQ,KAAKiF,MAAMX,KAAKK,QACC,KAAzB3E,KAAKiF,MAAM3B,IAAIiB,OAElB,wBAAIR,UAAU,mCACZD,QAAS9D,KAAK4G,cADhB,WAMD5G,KAAKiF,MAAMX,KAAKf,KAAK,SAAAD,GAAG,OACvB,wBAAKS,UAAU,gEACb1C,IAAKiC,EAAI/B,GAAG+B,EAAIiB,MAChBT,QAAS,YACP,OADqB,EAAZ0D,OACCO,UAAUC,SAAS,mBACpB,EAAKtB,iBAAiBpD,GAGxB,EAAK+B,UAAS,SAAAJ,GAAK,MAAK,CAC7BkB,oBAAoB,EACpBE,YAAa/C,EAAI/B,SAIpB+B,EAAIiB,MACL,uBAAGR,UAAU,iBAIjB,yBAAKA,UAAU,4CACb,yBAAKA,UAAU,aACb,4BAAQA,UAAU,4BAChBkE,MAAO,CAACC,aAAc,GACtBpE,QAAS9D,KAAK2G,kBAEd,uBAAG5C,UAAU,aAEf,4BAAQA,UAAU,4BAChBkE,MAAO,CAACC,aAAc,GACtBpE,QAAS,kBAAM,EAAKuB,UAAS,iBAAO,CAClCe,oBAAoB,QAGtB,uBAAGrC,UAAU,qBAEf,4BAAQA,UAAU,4BAChBkE,MAAO,CAACC,aAAc,iBACtBpE,QAAS,kBAAM,EAAK+C,uBAAsB,KAE1C,uBAAG9C,UAAU,oBAMrB,kBAACxE,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAMgB,iBACrB,kBAAC,QAAD,CACEtC,KAAM3D,KAAKiF,MAAMgB,gBACjBnC,QAAS,kBAAM,EAAK+C,uBAAsB,KAF5C,kBAIc7G,KAAKD,MAAM2D,WACvB,kBAACP,EAAA,EAAD,CACEG,IAAKtD,KAAKiF,MAAM3B,IAChBF,KAAMpD,KAAKiF,MAAMqB,YAAYlD,KAC7BC,OAAQrD,KAAKiF,MAAMqB,YAAYjD,OAC/BT,SAAU5C,KAAKyG,kBAEjB,4BAAQ1C,UAAU,kBAChBD,QAAS9D,KAAK4G,cADhB,SAKJ,kBAACrH,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAMiB,kBACrB,kBAAC,QAAD,CACEvC,KAAM3D,KAAKiF,MAAMiB,iBACjBpC,QAAS,kBAAM,EAAKgD,wBAAuB,KAF7C,eAIW9G,KAAKD,MAAM2D,WACpB,kBAACP,EAAA,EAAD,CACEG,IAAKtD,KAAKiF,MAAM3B,IAChBF,KAAMpD,KAAKiF,MAAMqB,YAAYlD,KAC7BC,OAAQrD,KAAKiF,MAAMqB,YAAYjD,OAC/BT,SAAU5C,KAAKyG,kBAEjB,4BAAQ1C,UAAU,kBAChBD,QAAS9D,KAAKiH,iBADhB,UAGA,4BAAQlD,UAAU,iBAChBD,QAAS,kBAAM,EAAKuB,UAAS,SAAAJ,GAAK,MAAK,CACrCkB,oBAAoB,EACpBE,YAAapB,EAAM3B,IAAI/B,SAH3B,YAQJ,kBAAChC,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAMkB,oBACrB,kBAAC1C,EAAA,EAAD,CACEE,KAAM3D,KAAKiF,MAAMkB,mBACjBzC,UAAW1D,KAAKD,MAAM2D,UACtBnC,GAAIvB,KAAKiF,MAAMoB,YACfzC,QAAS,kBAAM,EAAKyB,UAAS,iBAAO,CAClCc,oBAAoB,OAEtBtC,SAAU7D,KAAKgH,mBAGnB,kBAACzH,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAMmB,oBACrB,kBAAC,EAAD,CACEzC,KAAM3D,KAAKiF,MAAMmB,mBACjB1C,UAAW1D,KAAKD,MAAM2D,UACtBY,KAAMtE,KAAKiF,MAAMX,KACjBV,QAAS,kBAAM,EAAKyB,UAAS,iBAAO,CAClCe,oBAAoB,OAEtBV,SAAU1F,KAAK0G,yB,GAhVFvH,IAAM0G,YAwV/BE,EAAWD,YAAc5G,IAEV6G,O,8BCnWf,2CAIA,SAASoC,EAAT,GAAsF,IAAvEpE,EAAsE,EAAtEA,UAAWqE,EAA2D,EAA3DA,KAAMC,EAAqD,EAArDA,UAAWrG,EAA0C,EAA1CA,KAAMsG,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,WAAYzE,EAAU,EAAVA,QACzE,OAAOsE,EAAK7E,KAAI,SAACiF,EAAIjH,GACnB,GAAG+G,GAAgBC,IAAeC,EAChC,OAAO,yBAAKzE,UAAWA,EAAW1C,IAAKE,GACrC,yBAAKwC,UAAU,aAAaD,QAAS,kBAAMA,EAAQ0E,KAAMA,IAI7D,GAAGH,GAAarG,EAAM,CACpB,IAAII,EAAIL,qBAAW,IAAI0G,KAAKzG,EAAKE,cAAeF,EAAKF,WAAY0G,IACjE,GAAGH,EAAUK,SAAStG,GACpB,OAAO,yBAAK2B,UAAWA,EAAW1C,IAAKE,GACrC,yBAAKwC,UAAU,YAAYD,QAAS,kBAAMA,EAAQ0E,KAAMA,IAK9D,OAAO,yBAAKzE,UAAWA,EAAW1C,IAAKE,EAAIuC,QAAS,kBAAMA,EAAQ0E,KAAMA,MAkC7DG,UA7Bf,YAA0C,IAA1B3G,EAAyB,EAAzBA,KAAM4G,EAAmB,EAAnBA,OAAQhG,EAAW,EAAXA,SAC5BZ,EAAO,IAAIyG,KAAKzG,EAAKE,cAAeF,EAAKF,YACzC,IAAI+G,EAAW/G,mBAASE,GAExB,OACE,6BACE,yBAAK+B,UAAU,eACf,yBAAKD,QAAS,kBAAMlB,EAAS,WAAWZ,EAAK8G,eAAe,KAAM,CAACC,KAAK,UAAWC,MAAO,UAC1F,6BACE,4BAAQlF,QAAS,kBAAMlB,EAAS,aAAamB,UAAU,OAAO,KAC9D,4BAAQD,QAAS,kBAAMlB,EAAS,SAASmB,UAAU,OAAO,OAG5D,yBAAKA,UAAU,YACb,kBAACoE,EAAD,CAAMrE,QAAS,aAAQC,UAAU,iBAAiBqE,KAAMS,EAAS,KACjE,kBAACV,EAAD,CAAMrE,QAAS,aAAQC,UAAU,iBAAiBqE,KAAMS,EAAS,KACjE,kBAACV,EAAD,CAAMrE,QAASlB,EAAUwF,KAAMS,EAAS,GACtCP,aAAcO,EAAS,GACvBN,WAAYM,EAAS,GACrBR,UAAWO,EACX5G,KAAMA,IAER,kBAACmG,EAAD,CAAMrE,QAAS,aAAQC,UAAU,iBAAiBqE,KAAMS,EAAS,S,oCChDzEnJ,EAAOC,QAAU,CACfsJ,MAAOpJ,EAAQ,IAAWC,U,gBCD5BJ,EAAOC,QAAU,CACfuJ,MAAOrJ,EAAQ,IAAWC,U,gBCD5BJ,EAAOC,QAAU,CACfgJ,MAAO9I,EAAQ,IAAWC,QAC1BqJ,WAAYtJ,EAAQ,IAAgBC,U,6MCEhCoJ,E,kDACJ,WAAYnJ,GAAQ,IAAD,8BACjB,cAAMA,IAEDkF,MAAQ,CACXmE,KAAK,EACLC,iBAAkB,KAClBC,eAAgB,KAChBC,KAAM,EACNC,QAAS,KACTC,UAAW,EACXC,OAAQ,IAGV,EAAK5F,QAAU,EAAKA,QAAQ0C,KAAb,gBAbE,E,gEAgBE,IAAD,OAClBxG,KAAKmF,QAAQ9F,IAAI+F,KAAK,SAAU,CAACuE,QAAS3J,KAAKD,MAAM4J,UACpDxJ,MAAK,SAAAC,GAAQ,OAAI,EAAKiF,UAAS,iBAAO,CAACqE,OAAQtJ,EAAUqJ,UAAW,EAAKG,aAAaxJ,UACtFmF,MAAM/D,QAAQC,O,gCAGN,IAAD,OACRzB,KAAKqF,UAAS,SAAAJ,GACZ,IAAM4E,EAAW,GAEjB,OAAG5E,EAAMmE,KACPU,cAAc,EAAKN,SACnBK,EAAST,KAAM,EACfS,EAASP,eAAiB,IAAIb,KAE3BxD,EAAMsE,MAAQ,MACfM,EAASH,OAAT,CACE,CAACL,iBAAkBpE,EAAMoE,iBAAkBC,eAAgBO,EAASP,iBADtE,mBAEKrE,EAAMyE,SAEXG,EAASJ,UAAY,EAAKG,aAAaC,EAASH,QAChDG,EAASN,KAAO,EAEhB/H,QAAQC,IAAI,kBAAkBoI,EAASP,gBACvC,EAAKnE,QAAQ9F,IAAIgI,IAAI,SAAU,CAC7BsC,QAAS,EAAK5J,MAAM4J,QACpBN,iBAAkBpE,EAAMoE,iBACxBC,eAAgBO,EAASP,kBAItBO,IAGT,EAAKL,QAAUO,aAAY,WACzB,EAAK1E,UAAS,iBAAO,CAACkE,KAAM,EAAKS,gBAChC,KAEI,CAACZ,KAAK,EAAMC,iBAAkB,IAAIZ,KAAQa,eAAgB,Y,mCAIxDI,GACX,OAAOA,EAAOO,QAAO,SAACC,EAAKC,GAMzB,OAAOD,IALsC,kBAAzBC,EAAMb,eACxB,IAAIb,KAAK0B,EAAMb,gBAAkBa,EAAMb,iBACQ,kBAA3Ba,EAAMd,iBAC1B,IAAIZ,KAAK0B,EAAMd,kBAAoBc,EAAMd,qBAG1C,K,gCAIH,OAAmC,OAAhCrJ,KAAKiF,MAAMoE,iBACL,EAGwB,OAA9BrJ,KAAKiF,MAAMqE,eACJ,IAAIb,KAASzI,KAAKiF,MAAMoE,iBAG1BrJ,KAAKiF,MAAMqE,eAAiBtJ,KAAKiF,MAAMoE,mB,2BAG5CE,GACH,MAAO,CACLa,EAAGC,KAAKC,MAAOf,EAAO,KAAW,IACjCpH,EAAGkI,KAAKC,MAAOf,EAAO,IAAS,IAC/BgB,EAAGF,KAAKC,MAAOf,EAAO,IAAQ,O,oCAIb,IAATa,EAAQ,EAARA,EAAEjI,EAAM,EAANA,EAAEoI,EAAI,EAAJA,EAMd,OAHApI,EAAIA,EAAI,EAAIA,EAAI,IAAIA,EACpBoI,EAAIA,EAAI,EAAIA,EAAI,IAAIA,EAEd,GAAN,OAJAH,EAAIA,EAAI,EAAIA,EAAI,IAAIA,EAIpB,YAAejI,EAAf,YAAoBoI,K,qCAIpB,OADkB,EAAPH,EAAO,EAAJjI,EACG,IAAKqI,QAAQ,K,+BAI9B,IAAIjB,EAAOvJ,KAAKuJ,KAAKvJ,KAAKiF,MAAMsE,KAAOvJ,KAAKiF,MAAMwE,WAC9C1F,EAAa/D,KAAKiF,MAAMmE,IAAO,6BAA8B,8BACjE,OACE,yBAAKrF,UAAU,SACb,4BAAQA,UAAWA,EAAWD,QAAS9D,KAAK8D,SACzC9D,KAAKyK,WAAWlB,GADnB,MAC6BvJ,KAAK0K,YAAYnB,S,GA7GlCpK,IAAM0G,WAqH1BqD,EAAMpD,YAAc5G,IAELgK,a,oDC3Hf,IAAMyB,EAAc9K,EAAQ,IACtB0E,EAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAoCnD7E,EAAOC,QA/BP,SAAaqC,GACX,IAAM4I,EAAU5I,EAAK6I,SACfC,EAAyBH,EAAY3I,GACrC+I,EAAsBJ,EAAY,IAAIlC,KAAKzG,EAAKE,cAAeF,EAAKF,WAAa,IACjFkJ,EAAW,IAAMJ,EAAUE,GAG7BxC,GADc,IAAIG,MACS3G,aAAeE,EAAKF,WAC/CyG,EAAcD,GAAgB,IAAIG,MAAOpG,UAAY,EAEzD,MAAO,CACLkC,EAEA,IAAI0G,MAAML,GACTM,OACA3H,KAAI,SAACiF,EAAGjH,GAAJ,OAAWwJ,EAAsBxJ,KACrC4J,UAED,IAAIF,MAAMH,GACTI,OACA3H,KAAI,SAACiF,EAAIjH,GAAL,OAAYA,EAAK,KAEtB,IAAI0J,MAAMD,GACTE,OACA3H,KAAI,SAACiF,EAAGjH,GAAJ,OAAW,EAAIA,KAEpB+G,EACAC,K,cC3BJ7I,EAAOC,QALP,SAAqBqC,GACnB,OAAO,GAAK,IAAIyG,KAAKzG,EAAKE,cAAeF,EAAKF,WAAY,IACvDO,Y,0HCCC8G,E,kDACJ,WAAYpJ,GAAQ,IAAD,8BACjB,cAAMA,IAEDkF,MAAQ,CACXmG,YAAa,IAAI3C,KACjBG,OAAQ,IAGV,EAAKyC,eAAiB,EAAKA,eAAe7E,KAApB,gBARL,E,iEAWExE,GACnB,MAAO,CACLsJ,KAAM,IAAI7C,KAAKzG,EAAKE,cAAeF,EAAKF,WAAY,GACpDyJ,GAAI,IAAI9C,KAAKzG,EAAKE,cAAeF,EAAKF,WAAa,EAAG,M,qCAK3Ca,GACX,IAAIsC,EAAQjF,KAAKiF,MACb4E,EAAW,GACX7H,EAAOiD,EAAMmG,YAEjB,OAAOzI,GACL,IAAK,QACHkH,EAAW,CACTuB,YAAa,IAAI3C,KACjBG,OAAQ,IAEV,MACF,IAAK,OACHiB,EAAQ,2BACH5E,GADG,IAENmG,YAAa,IAAI3C,KAAKzG,EAAKE,cAAeF,EAAKF,WAAa,KAE9D,MACF,IAAK,WACH+H,EAAQ,2BACH5E,GADG,IAENmG,YAAa,IAAI3C,KAAKzG,EAAKE,cAAeF,EAAKF,WAAa,KAE9D,MACF,QACE,GAAI0J,MAAMC,OAAO9I,IAafkH,EAAW,OAba,CACxB,IAAId,EAAO/G,EAAKE,cACZ8G,EAAQhH,EAAKF,WACb4J,EAAMD,OAAO9I,GACbP,EAAIL,qBAAW,IAAI0G,KAAKM,EAAMC,EAAO0C,IAIzC7B,EAAW,CACTjB,OAAS3D,EAAM2D,OAAOF,SAAStG,GAAM6C,EAAM2D,OAAO/D,QAAO,SAAA2D,GAAE,OAAIA,IAAOpG,KAA9D,sBAAuE6C,EAAM2D,QAA7E,CAAqFxG,MASrG,GAAGpC,KAAKD,MAAM6C,SACZ,GAA8B,IAA3BiH,EAASjB,OAAOjE,OAAc,CAC/B,IAAI3C,EAAQ6H,EAASuB,YAAevB,EAASuB,YAAanG,EAAMmG,YAChEpL,KAAKD,MAAM6C,SAAS5C,KAAK2L,qBAAqB3J,SAE9ChC,KAAKD,MAAM6C,SAASiH,EAASjB,QAIjC5I,KAAKqF,UAAS,SAAAJ,GAAK,OAAI4E,O,+BAIzB,OACE,kBAAC,UAAD,CACEjH,SAAU5C,KAAKqL,eACfrJ,KAAMhC,KAAKiF,MAAMmG,YACjBxC,OAAQ5I,KAAKiF,MAAM2D,a,GAhFFzJ,IAAM0G,WAsFhBsD,a,qHCvFTvJ,G,wDACJ,WAAYG,GAAQ,IAAD,8BACjB,cAAMA,IAED6D,QAAU,EAAKA,QAAQ4C,KAAb,gBAHE,E,uDAMjB,GADgB,EAATgB,OACGO,UAAUC,SAAS,SAC3B,OAAOhI,KAAKD,MAAM+D,Y,+BAIlB,GAAG9D,KAAKD,MAAM4D,KAAM,CAAC,IAAD,EACO3D,KAAKD,MAAtB4F,iBADU,MACA,GADA,gBAEgB3F,KAAKD,MAAMN,UAAtC8E,EAFW,KAEJxD,EAFI,KAEK6K,EAFL,WAIlB,MAAO,CACL,yBAAK7H,UAAU,QAAQkE,MAAO,CAAC4D,QAAS,SAAUC,KAAK,SAAShI,QAAS9D,KAAK4D,SAC5E,yBAAKG,UAAU,uCAAuC+H,KAAK,YACzD,yBAAK/H,UAAU,iBACb,yBAAKA,UAAU,gBACZQ,EACD,4BAAQT,QAAS9D,KAAKD,MAAM+D,QAASrB,KAAK,SAASsB,UAAU,QAAQgI,eAAa,QAAQC,aAAW,SACnG,0BAAMC,cAAY,QAAlB,UAGJ,yBAAKlI,UAAU,aAAakE,MAAOtC,GAChC5E,GAEH,yBAAKgD,UAAU,gBACb,4BAAQ1C,IAAI,QAAQoB,KAAK,SAASsB,UAAU,oBAAoBgI,eAAa,QAAQjI,QAAS9D,KAAKD,MAAM+D,SAAzG,SACC8H,MAKT,yBAAK7H,UAAU,oBAIjB,OAAO,S,GAxCK5E,IAAM0G,YA6CXjG,a,wNC9CAsM,E,MCCf,ECDe/I,E,MAAf,E,uBCSA,SAASvB,EAAgBC,GACvB,OAAQA,EAAS,EAAKA,EAAS,IAAIA,EAGrC,SAASE,EAAWC,GAClB,IAAIC,EAAID,EAAKE,cACTC,EAAIH,EAAKF,WAAW,EACpBM,EAAIJ,EAAKK,UAEb,MAAM,GAAN,OAAUJ,EAAV,YAAeL,EAAgBO,GAA/B,YAAqCP,EAAgBQ,I,IAGjD+J,E,kDACJ,WAAYpM,GAAQ,IAAD,sBACjB,cAAMA,GAEN,IAAIiC,EAAO,IAAIyG,KACX2D,EAAW,IAAI3D,KAAKzG,EAAKE,cAAeF,EAAKF,WAAY,GACzDuK,EAAU,IAAI5D,KAAKzG,EAAKE,cAAeF,EAAKF,WAAa,EAAG,GAL/C,OAOjB,EAAKmD,MAAQ,CACXK,YAAY,EACZgH,SAAS,EACTC,QAAS,GACTC,MAAO,GACP9C,OAAQ,GACR7E,OAAQ,CACN4H,YAAY,CACVnB,KAAMvJ,EAAWqK,GACjBb,GAAIxJ,EAAWsK,KAGnBK,OAAO,EACPC,UAAU,EACVC,aAAa,EACbC,SAAU,GACVnJ,UAAW,OACXN,KAAM,GACNC,OAAQ,IAGV,EAAKyJ,SAAW,EAAKA,SAAStG,KAAd,gBAChB,EAAKuG,SAAW,EAAKA,SAASvG,KAAd,gBAChB,EAAKwG,MAAW,EAAKA,MAAMxG,KAAX,gBAChB,EAAKyG,MAAQ,EAAKA,MAAMzG,KAAX,gBACb,EAAK0G,iBAAmB,EAAKA,iBAAiB1G,KAAtB,gBACxB,EAAK2G,eAAmB,EAAKA,eAAe3G,KAApB,gBACxB,EAAK4G,aAAmB,EAAKA,aAAa5G,KAAlB,gBAlCP,E,gEAqCE,IAAD,OAClBxG,KAAKmF,QAAQ9F,IAAIiH,YAAYtG,KAAKiF,MAAMvB,WACvCvD,MAAK,SAAAY,GAAI,OAAI,EAAKsE,UAAS,iBAAO,CACjCjC,KAAMrC,EAAKqC,MAAQ,GACnBC,OAAQtC,EAAKsC,QAAU,GACvBiC,YAAY,EACZgH,SAAS,SAEV/G,OAAM,SAAAC,GAAG,OAAI,EAAKH,UAAS,iBAAO,CAAC7E,MAAOgF,EAAIC,eAE/CzF,KAAK8M,a,+BAGE7H,GAAQ,IAAD,OAKd,OAJIA,IACFA,EAAQjF,KAAKiF,OAGRjF,KAAKmF,QAAQ9F,IAAI+F,KAAKpF,KAAKiF,MAAMvB,UAAWuB,EAAMJ,QACxD1E,MAAK,SAAAC,GACJ,OAAO,EAAKiF,UAAS,8BAAC,eACjBJ,GADgB,IAEnBuH,MAAOpM,EACPiN,WAAW,EACXf,SAAS,UAGZ/G,OAAM,SAAAC,GAAG,OACR,EAAKP,MAAMI,UAAS,8BAAC,eAAUJ,GAAX,IAAkBqH,SAAS,EAAMe,WAAW,Y,iCAIxD,IAAD,OACT,OAAOrN,KAAKmF,QAAQ9F,IACnBqI,OAAO1H,KAAKiF,MAAMvB,UAAW1D,KAAKiF,MAAM4H,SAAU,CACjDtL,GAAIvB,KAAKiF,MAAM4H,SAAStL,KAEzBpB,MAAK,kBAAM,EAAKkF,UAAS,SAAAJ,GAAK,MAAK,CAClCyH,OAAO,EACPY,UAAU,EACVd,MAAOvH,EAAMuH,MACVjJ,KAAI,SAAAgK,GAAI,OAAKA,EAAKhM,KAAO0D,EAAM4H,SAAStL,GAAK0D,EAAM4H,SAAUU,YAEjEhI,MAAM/D,QAAQC,O,8BAGR,IAAD,OACN,OAAOzB,KAAKmF,QAAQ9F,IACnBkI,IAAIvH,KAAKiF,MAAMvB,UAAW1D,KAAKiF,MAAM4H,SAAStL,IAC9CpB,MAAK,kBAAM,EAAKJ,MAAMsF,UAAS,SAAAJ,GAAK,MAAK,CACxCyH,OAAO,EACPY,UAAU,EACVV,aAAY,EACZJ,MAAOvH,EAAMuH,MAAM3H,QAAO,SAAA0I,GAAI,OAAIA,EAAKhM,KAAO,EAAKxB,MAAM8M,SAAStL,aAEnEgE,MAAM/D,QAAQC,O,4BAGXT,GAAM,IAAD,OACT,IAAI,IAAIK,KAAOL,EACb,GAAgB,KAAbA,EAAIK,GACL,OAAO,KAGXrB,KAAKmF,QAAQ9F,IAAIgI,IAAIrH,KAAKiF,MAAMvB,UAAW1C,GAC1Cb,MAAK,kBAAM,EAAK2M,SAAL,2BAAkB,EAAK/M,OAAvB,IAA8B2M,OAAO,QAChDnH,MAAM/D,QAAQC,O,mCAGJJ,EAAKsB,GAAQ,IAAD,OAEvB,OADAnB,QAAQC,IAAIJ,EAAKsB,GACV3C,KAAKqF,UAAS,iBAAO,CAC1BwH,SAAS,2BACJ,EAAK5H,MAAM4H,UADR,kBAELxL,EAAMsB,U,qCAME6E,EAAQjG,GACrB,IAAGiG,EAAOO,UAAUC,SAAS,aAA7B,CAIA,IAAMuF,EAAOvN,KAAKiF,MAAMuH,MACrBlF,MAAK,SAAAiG,GAAI,OAAIA,EAAKhM,KAAOA,KAE5BvB,KAAKqF,UAAS,iBAAO,CAACwH,SAAUU,EAAMb,OAAO,EAAMC,UAAU,S,yCAI7D3M,KAAKqF,UAAS,iBAAO,CACnBqH,OAAO,EACPC,UAAU,Q,+BAIJ,IAAD,OAEP,OADAnL,QAAQC,IAAIzB,KAAKiF,OAEf,yBAAKlB,UAAU,OACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gCACb,uBAAGA,UAAU,eAAeyJ,KAAK,KAAjC,gBACA,yBAAKzJ,UAAU,aACb,4BAAQA,UAAU,0BAChBtB,KAAK,SACLqB,QAAS,kBAAM,EAAKuB,SAAS,CAC3BqH,OAAO,EACPC,UAAU,EACVE,SAAU,CACRY,YAAa,EAAKxI,MAAMJ,OAAO4I,YAC/BhB,aAAa,IAAIhE,MAAOuB,eAP9B,YAWA,4BAAQjG,UAAU,0BAChBtB,KAAK,SACLqB,QAAS,WACP,EAAKqB,QAAQ9F,IACZqO,YAAY,EAAKzI,MAAMvB,UAAW,EAAKuB,MAAMJ,QAC7C1E,KAAKqB,QAAQC,KACb8D,MAAM/D,QAAQC,OANnB,gBASA,4BAAQsC,UAAU,yBAChBtB,KAAK,SACLqB,QAAS,kBAAM,EAAKqB,QAAQwI,YAF9B,eAON,yBAAK5J,UAAU,OACb,kBAAC,aAAD,CACEnB,SAAU,SAAA6J,GAAW,OACnB,EAAKK,SAAL,2BAAkB,EAAK7H,OAAvB,IAA8BJ,OAAO,2BAAI,EAAKI,MAAMJ,QAAhB,IAAwB4H,sBAEhE,kBAACmB,EAAD,CACElL,MAAO,kBACPC,MAAO3C,KAAKiF,MAAMJ,OAAOgJ,YACzBnK,UAAU,WACVd,SAAU,SAACvB,EAAKsB,GAAN,OACR,EAAKmK,SAAL,2BAAkB,EAAK7H,OAAvB,IAA8BJ,OAAO,2BAChC,EAAKI,MAAMJ,QADoB,IAElC4I,YAAa9K,UAGnB,kBAACiL,EAAD,CACElL,MAAO,gBACPC,MAAO3C,KAAKiF,MAAMJ,OAAOgJ,YACzBnK,UAAU,SACVd,SAAU,SAACvB,EAAKsB,GAAN,OACR,EAAKmK,SAAL,2BAAkB,EAAK7H,OAAvB,IAA8BJ,OAAO,2BAChC,EAAKI,MAAMJ,QADoB,IAElCiJ,UAAWnL,WAInB,yBAAKoB,UAAU,WACb,kBAACkF,EAAA,MAAD,CACEuD,MAAOxM,KAAKiF,MAAMuH,MAClBhM,MAAOR,KAAKiF,MAAMqH,QAClByB,QAAS/N,KAAKiF,MAAMoI,UACpBW,WAAYhO,KAAKmN,mBAIvB,kBAAC5N,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAM0H,UAAY3M,KAAKiF,MAAMyH,OAC5C,kBAAC,QAAD,CAAO/I,KAAM3D,KAAKiF,MAAMyH,MAAO5I,QAAS9D,KAAKkN,kBAC3C,wBAAI7L,IAAI,QAAQ0C,UAAU,eAA1B,YACA,kBAAC,EAAD,CACET,IAAKtD,KAAKiF,MAAM4H,SAChBzJ,KAAMpD,KAAKiF,MAAM7B,KACjBC,OAAQrD,KAAKiF,MAAM5B,OACnBT,SAAU5C,KAAKoN,eAEjB,4BAAQ/L,IAAI,MACVyC,QAAS,kBAAM,EAAKmJ,MAAM,EAAKhI,MAAM4H,WACrC9I,UAAU,mBAFZ,SAMJ,kBAACxE,EAAA,EAAD,CAAIC,QAASQ,KAAKiF,MAAM0H,UAAY3M,KAAKiF,MAAMyH,OAC7C,kBAAC,QAAD,CAAO/I,KAAM3D,KAAKiF,MAAMyH,MAAO5I,QAAS9D,KAAKkN,kBAC3C,wBAAI7L,IAAI,QAAQ0C,UAAU,eAA1B,aACA,kBAAC,EAAD,CACET,IAAKtD,KAAKiF,MAAM4H,SAChBzJ,KAAMpD,KAAKiF,MAAM7B,KACjBC,OAAQrD,KAAKiF,MAAM5B,OACnBT,SAAU5C,KAAKoN,eAEjB,4BAAQ/L,IAAI,SACVyC,QAAS,kBAAM,EAAKuB,UAAS,iBAAO,CAACuH,aAAa,OAClD7I,UAAU,kBAFZ,UARF,IAYE,4BAAQ1C,IAAI,SACVyC,QAAS9D,KAAK+M,SACdhJ,UAAU,mBAFZ,YAMJ,kBAACxE,EAAA,EAAD,CAAIC,OAAQQ,KAAKiF,MAAM2H,aACrB,kBAACnJ,EAAA,EAAD,CACEE,KAAM3D,KAAKiF,MAAM2H,YACjBlJ,UAAW1D,KAAKD,MAAM2D,UACtBnC,GAAIvB,KAAKiF,MAAM4H,SAAStL,GACxBsC,SAAU7D,KAAKgN,MACfpJ,QAAS,kBAAM,EAAKyB,UAAS,iBAAO,CAACuH,aAAa,e,GAvPvCzN,IAAM0G,WA+P7BsG,EAASrG,YAAc5G,IAERiN,Q,MC9NA8B,MAvDf,YAA8E,IAA7DC,EAA4D,EAA5DA,OAAQC,EAAoD,EAApDA,SAAUvL,EAA0C,EAA1CA,SAAUwL,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,SAChE,OACE,yBAAKvK,UAAU,eACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,8BAAd,iBAGF,yBAAKA,UAAU,cACb,2BAAO4D,QAAQ,iBAAf,YACA,2BAAOlF,KAAK,OACVsB,UAAU,eACVxC,GAAG,gBACHgN,mBAAiB,eACjB3G,YAAY,WACZ4G,KAAK,YACL5L,SAAUA,EACVD,MAAOyL,KAGX,yBAAKrK,UAAU,cACb,2BAAO4D,QAAQ,yBAAf,YACA,2BAAOlF,KAAK,WACVsB,UAAU,eACVxC,GAAG,wBACHqG,YAAY,WACZ4G,KAAK,WACL5L,SAAUA,EACVD,MAAO0L,KAGX,yBAAKtK,UAAU,yBACb,2BAAOtB,KAAK,WACVsB,UAAU,mBACVxC,GAAG,gBACHiN,KAAK,WACL5L,SAAUA,EACV6L,QAASH,IAEX,2BAAOvK,UAAU,mBAAmB4D,QAAQ,iBAA5C,gBAEF,yBAAK5D,UAAU,wCAAwC+H,KAAK,QAAQE,aAAW,iBAC7E,4BAAQjI,UAAU,0BAChBtB,KAAK,SACLqB,QAASqK,GAFX,YAIA,4BAAQpK,UAAU,kBAChBtB,KAAK,SACLqB,QAASoK,GAFX,YAKF,uBAAGnK,UAAU,oCAAb,eCkBS2K,MApEf,YAAuF,IAApER,EAAmE,EAAnEA,OAAQC,EAA2D,EAA3DA,SAAUvL,EAAiD,EAAjDA,SAAU+L,EAAuC,EAAvCA,MAAOP,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,SACzE,OACE,yBAAKvK,UAAU,eACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,8BAAd,iBAGF,yBAAKA,UAAU,cACb,2BAAO4D,QAAQ,cAAf,SACA,2BAAOlF,KAAK,QACVsB,UAAU,eACVxC,GAAG,aACHgN,mBAAiB,YACjB3G,YAAY,QACZ4G,KAAK,QACL5L,SAAUA,EACVD,MAAOgM,KAIX,yBAAK5K,UAAU,cACb,2BAAO4D,QAAQ,iBAAf,YACA,2BAAOlF,KAAK,OACVsB,UAAU,eACVxC,GAAG,gBACHgN,mBAAiB,eACjB3G,YAAY,WACZ4G,KAAK,YACL5L,SAAUA,EACVD,MAAOyL,KAGX,yBAAKrK,UAAU,cACb,2BAAO4D,QAAQ,yBAAf,YACA,2BAAOlF,KAAK,WACVsB,UAAU,eACVxC,GAAG,wBACHqG,YAAY,WACZ4G,KAAK,WACL5L,SAAUA,EACVD,MAAO0L,KAGX,yBAAKtK,UAAU,yBACb,2BAAOtB,KAAK,WACVsB,UAAU,mBACVxC,GAAG,gBACHiN,KAAK,WACL5L,SAAUA,EACV6L,QAASH,IAEX,2BAAOvK,UAAU,mBAAmB4D,QAAQ,iBAA5C,gBAEF,yBAAK5D,UAAU,wCAAwC+H,KAAK,QAAQE,aAAW,iBAC7E,4BAAQjI,UAAU,kBAChBtB,KAAK,SACLqB,QAASqK,GAFX,YAIA,4BAAQpK,UAAU,0BAChBtB,KAAK,SACLqB,QAASoK,GAFX,YAKF,uBAAGnK,UAAU,oCAAb,e,QClEC,SAAS6K,EAAQvN,EAAKsB,GAC3B,IAAIjB,OAAOmN,aACT,OAAO,KAGTA,aAAaD,QAAQvN,EAAKsB,GAGrB,SAASmM,EAAQzN,GACtB,OAAKK,OAAOmN,cACRnN,OAAOmN,aAAalK,OAIjBkK,aAAaC,QAAQzN,GAHnB,KAMJ,SAAS0N,EAAW1N,GACzB,QAAKK,OAAOmN,cAILA,aAAaE,WAAW1N,G,ICd3B2N,E,kDACJ,WAAYjP,GAAQ,IAAD,sBACjB,cAAMA,GAEN,IAAId,EAAQ,KACRqP,EAAoC,SAAxBQ,EAAQ,YAJP,OAMbR,EAGFrP,EAAQ6P,EAAQ,SAFhBC,EAAW,SAKb,EAAK9J,MAAQ,CACXmJ,UAAW,GACXC,SAAU,GACVC,SAAUA,EACV9O,OAAQ,SACRH,IAAK,IAAIC,IAAI,CACXN,SAAUD,IAASC,SACnBC,MAAOA,GAASF,IAASE,QAE3BgQ,cAAaX,IAAYrP,IAG3B,EAAKkP,SAAW,EAAKA,SAAS3H,KAAd,gBAChB,EAAK0I,OAAS,EAAKA,OAAO1I,KAAZ,gBACd,EAAKmH,QAAU,EAAKA,QAAQnH,KAAb,gBACf,EAAK5D,SAAW,EAAKA,SAAS4D,KAAd,gBA3BC,E,sDA+BjBuI,EAAW,SACXA,EAAW,YAEX/O,KAAKqF,UAAS,iBAAO,CACnB4J,YAAY,Q,kCAII,IAAVzH,EAAS,EAATA,OACRxH,KAAKqF,UAAS,WACZ,OAAGmC,EAAO5C,eAAe,WAChB,eACJ4C,EAAOgH,KAAQhH,EAAOiH,SAGpB,eACJjH,EAAOgH,KAAQhH,EAAO7E,Y,+BAKnB,IAAD,OACP,OAAO3C,KAAKiF,MAAM5F,IAAI6P,OAAO,CAC3Bd,UAAWpO,KAAKiF,MAAMmJ,UACtBC,SAAUrO,KAAKiF,MAAMoJ,WAEtBlO,MAAK,YAAc,IAAZlB,EAAW,EAAXA,MACN2P,EAAQ,QAAS3P,GACjB2P,EAAQ,WAAY,EAAK3J,MAAMqJ,UAE/B,EAAKjJ,UAAS,iBAAO,CACnBhG,IAAK,IAAIC,IAAI,CACXN,SAAUD,IAASC,SACnBC,UAEFgQ,aAAahQ,SAGhBsG,MAAM/D,QAAQC,O,iCAGL,IAAD,OACT,OAAOzB,KAAKiF,MAAM5F,IAAI8O,SAAS,CAC7BC,UAAWpO,KAAKiF,MAAMmJ,UACtBC,SAAUrO,KAAKiF,MAAMoJ,SACrBM,MAAO3O,KAAKiF,MAAM0J,MAClBlM,KAAM,SAEPtC,MAAK,gBAAElB,EAAF,EAAEA,MAAF,OAAa,EAAKiQ,OAAOjQ,MAC9BsG,MAAM/D,QAAQC,O,+BAGP,IAAD,OACP,OAAGzB,KAAKiF,MAAMgK,WAEV,kBAAC/P,EAAA,EAAYiQ,SAAb,CAAsBxM,MAAO,CAC3BtD,IAAKW,KAAKiF,MAAM5F,IAChBsO,QAAS3N,KAAK2N,UAEb3N,KAAKD,MAAMN,SAJd,KASqB,WAAtBO,KAAKiF,MAAMzF,OACL,kBAAC,EAAD,iBAAYQ,KAAKiF,MAAjB,CACLkJ,SAAU,kBAAM,EAAK9I,UAAS,iBAAO,CAAC7F,OAAQ,gBAC9C0O,OAAQlO,KAAKkP,OACbtM,SAAU5C,KAAK4C,YAGM,aAAtB5C,KAAKiF,MAAMzF,OACL,kBAAC,EAAD,iBAAcQ,KAAKiF,MAAnB,CACLiJ,OAAQ,kBAAM,EAAK7I,UAAS,iBAAO,CAAC7F,OAAQ,cAC5C2O,SAAUnO,KAAKmO,SACfvL,SAAU5C,KAAK4C,iBAJnB,M,GAvGezD,IAAM0G,WAkHzBmJ,EAAKlJ,YAAc5G,IAEJ8P,QC5GAI,G,6KATX,OACI,kBAAC,EAAD,KACE,kBAAC,EAAD,W,GAJQjQ,IAAM0G,YCOJwJ,QACW,cAA7B3N,OAAO4N,SAASC,UAEe,UAA7B7N,OAAO4N,SAASC,UAEhB7N,OAAO4N,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM5P,MAAK,SAAA6P,GACjCA,EAAaC,iB,+DEzGJ/M,MAxBf,YAA0C,IAA1BR,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAK5B,OACE,yBAAKmB,UAAU,cAEb,2BAAO4D,QAASjF,GACbA,GAGH,2BAAOD,KAAK,OACVsB,UAAU,eACVxC,GAAImB,EACJkF,YAAW,gBAAWlF,GACtBC,MAAOA,EACPC,SAhBgB,SAAC,GAAc,IAAb4E,EAAY,EAAZA,OACtB5E,EAASF,EAAO8E,EAAO7E,YC+CZuN,MAjDf,YAA8C,IAA1BxN,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAC1BZ,EAAO,IAAIyG,KAAK9F,GADqB,EAElBwB,mBAASnC,EAAKmO,sBAFI,mBAEpCC,EAFoC,KAE7BC,EAF6B,OAGlBlM,mBAASnC,EAC/BsO,qBAAqBxN,MAAM,KAAKqI,UAAUlI,KAAK,MAJP,mBAGpCsN,EAHoC,KAG7BC,EAH6B,KAOrCjK,EAAgB,SAAC,GAAc,IAAbiB,EAAY,EAAZA,OAQtB,MAPmB,SAAhBA,EAAOgH,MACRgC,EAAQhJ,EAAO7E,OAEE,SAAhB6E,EAAOgH,MACR6B,EAAQ7I,EAAO7E,OAGVC,EAASF,EAAO,IAAI+F,KAAJ,UAAY8H,EAAZ,YAAqBH,IAASpG,YAGvD,OACE,yBAAKjG,UAAU,cACb,2BAAO4D,QAASjF,GAAhB,QACQA,GAGR,yBAAKqB,UAAU,eACb,2BACEtB,KAAK,OACL+L,KAAM,OACNzK,UAAU,eACVxC,GAAImB,EACJkF,YAAW,gBAAWlF,GACtBC,MAAO4N,EACP3N,SAAU2D,IAEZ,2BACE9D,KAAK,OACL+L,KAAM,OACNzK,UAAU,eACVxC,GAAImB,EACJkF,YAAW,gBAAWlF,GACtBC,MAAOyN,EACPxN,SAAU2D,O,QCnBLkK,MAtBf,YAAuD,IAAhC/N,EAA+B,EAA/BA,MAA+B,IAAxBC,aAAwB,SAAXC,EAAW,EAAXA,SAMzC,OACE,yBAAKmB,UAAU,yBACb,2BACEtB,KAAK,WACLsB,UAAU,mBACVxC,GAAImB,EACJ+L,QAAS9L,EACTC,SAXgB,SAAC,GAAc,IAAb4E,EAAY,EAAZA,OACtB5E,EAASF,EAAO2M,QAAQ7H,EAAOiH,aAY7B,2BAAO1K,UAAU,mBAAmB4D,QAASjF,GAA7C,SACSA,KCQAgO,MAxBf,YAAkD,IAA1BhO,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAKpC,OACE,yBAAKmB,UAAU,cAEb,2BAAO4D,QAASjF,GAAQA,GAExB,8BACEqB,UAAU,eACVxC,GAAImB,EACJ4B,KAAK,IACL1B,SAbgB,SAAC,GAAc,IAAb4E,EAAY,EAAZA,OACtB5E,EAASF,EAAO8E,EAAO7E,QAanBiF,YAAW,gBAAWlF,IAErBC,KCWMgO,UApBf,YAAyD,IAAD,IAAlClO,YAAkC,MAA7B,GAA6B,EAAzBC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAAW,EACvBH,EAAKK,MAAM,KADY,mBAC/C8N,EAD+C,KACpClN,EADoC,KAGtD,OAAOkN,EAAU/N,qBACf,IAAK,OACH,OAAO,kBAAC,EAAD,CAAWH,MAAOA,EAAOC,MAAOA,EAAOC,SAAUA,IAC1D,IAAK,UACH,OAAO,kBAAC,EAAD,CAAcF,MAAOA,EAAOC,MAAOA,EAAOC,SAAUA,IAC7D,IAAK,OACH,OAAO,kBAAC,EAAD,CAAeF,MAAOA,EAC3BC,MAAOA,EAAOC,SAAUA,IAC5B,IAAK,QACH,OAAO,kBAAC,IAAD,CAAYF,MAAOA,EAAOgB,UAAWA,EAC1Cf,MAAOA,EAAOC,SAAUA,IAE5B,QACE,OAAO,kBAAC,EAAD,CAAOF,MAAOA,EAAOC,MAAOA,EAAOC,SAAUA,O,+DCL3CL,MAnBf,YAAgC,IAAhBG,EAAe,EAAfA,MAAOC,EAAQ,EAARA,MACrB,OACF,yBAAKoB,UAAU,kBACX,2BAAO4D,QAASjF,EAAOqB,UAAU,2BAC9BrB,GAEH,yBAAKqB,UAAU,YACb,2BACEtB,KAAK,OACLoO,UAAQ,EACR9M,UAAU,yBACVxC,GAAImB,EACJoO,aAAcnO,OCMPoO,MAlBf,YAA6C,IAAtBrO,EAAqB,EAArBA,MAAqB,IAAdC,aAAc,SAE1C,OACE,yBAAKoB,UAAU,yBACb,2BACEtB,KAAK,WACLsB,UAAU,mBACVxC,GAAImB,EACJsO,eAAgB3B,QAAQ1M,GACxBkO,UAAQ,IAEV,2BAAO9M,UAAU,mBAAmB4D,QAASjF,GACzCA,KCSKuO,UAff,YAA+C,ICRVC,EDQS,IAAxBzO,YAAwB,MAAnB,GAAmB,EAAfC,EAAe,EAAfA,MAAOC,EAAQ,EAARA,MAAQ,EAEbF,EAAKI,oBAAoBC,MAAM,KAFlB,mBAErC8N,EAFqC,KAI5C,OAJ4C,KAIrCA,GACL,IAAK,OACH,OAAO,kBAAC,EAAD,CAAOlO,MAAOA,EAAOC,OCdGuO,EDciBvO,ECb7C,IAAI8F,KAAKgD,OAAOyF,IAAMZ,wBDc3B,IAAK,UACH,OAAO,kBAAC,EAAD,CAAc5N,MAAOA,EAAOC,MAAOA,IAC5C,IAAK,QACL,QACE,OAAO,kBAAC,EAAD,CAAOD,MAAOA,EAAOC,MAAOA,O,iHEhBnCwO,E,kDACJ,WAAYpR,GAAQ,IAAD,8BACjB,cAAMA,IAEDkF,MAAQ,CACX3B,IAAK,GACL9C,MAAO,MALQ,E,uDASP,IAAD,SACeR,KAAKD,MAAtB2D,EADE,EACFA,UAAWnC,EADT,EACSA,GAElBvB,KAAKmF,QAAQ9F,IAAI+H,KAAK1D,EAAWnC,GAChCpB,MAAK,SAAAmD,GAAG,OAAI,EAAK+B,UAAS,iBAAO,CAAC/B,IAAKA,EAAI,UAC3CiC,OAAM,SAAA/E,GAAK,OAAI,EAAK6E,UAAS,iBAAO,CAAC7E,iB,0CAItCR,KAAKoR,a,+BAGG,IAAD,EACapR,KAAKD,MAAlBwB,EADA,EACAA,GAAImB,EADJ,EACIA,MACJY,EAAOtD,KAAKiF,MAAZ3B,IAEP,OAAIA,GAAOA,EAAIsB,eAAelC,GAAO,SAC5BY,EAAIZ,GAAO,SAGbnB,M,GA9BcpC,IAAM0G,WAmC/BsL,EAAWrL,YAAc5G,IAEViS,QClBAE,MAjBf,YAA6D,IAA9C9P,EAA6C,EAA7CA,GAAIkL,EAAyC,EAAzCA,YAAaqB,EAA4B,EAA5BA,UAAWvJ,EAAiB,EAAjBA,MAAOT,EAAU,EAAVA,QAChD,OACE,wBAAIY,cAAeZ,EAAUC,UAAU,yCAAyCkE,MAAO,CAACrC,QAAS,MAAO0L,OAAQ,YAC9G,yBAAKjQ,IAAKE,EAAIwC,UAAU,QACtB,yBAAKA,UAAU,aAAc,IAAI0E,KAAKgE,GAAa6D,sBACnD,yBAAKvM,UAAU,eACb,kBAAC,EAAD,CAAYL,UAAU,SAASnC,GAAIuM,KAErC,yBAAK/J,UAAU,oBAAqBQ,GACpC,yBAAKR,UAAU,cACb,kBAACmF,EAAA,MAAD,CAAOS,QAASpI,QCyBX0H,UApCf,YAEE,IAFmD,IAArCuD,EAAoC,EAApCA,MAAOhM,EAA6B,EAA7BA,MAAOuN,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,WACjCuD,EAAU,KACD,CACX,GAAG/Q,EAAO,CACR+Q,EAAQC,KAAK,yBAAKnQ,IAAI,aAAa0C,UAAU,cAAhC,wBACb,MAGF,GAAGgK,EAAS,CACVwD,EAAQC,KAAK,yBAAKnQ,IAAI,eAAe0C,UAAU,gBAAlC,sBACb,MAGCyI,GAASA,EAAM7H,OAAS,EACzB4M,EAAU/E,EAAMjJ,KAAI,SAAAgK,GAAI,OAAI,kBAAC,EAAD,eAAMzJ,QAAS,gBAAE0D,EAAF,EAAEA,OAAF,OAAcwG,EAAWxG,EAAQ+F,EAAKhM,KAAMF,IAAKkM,EAAKhM,IAAQgM,OAEzGgE,EAAQC,KAAK,yBAAKnQ,IAAI,UAAU0C,UAAU,WAA7B,aAEf,MAGF,OACE,wBAAIA,UAAU,cACZ,wBAAIA,UAAU,kBAAkBkE,MAAO,CAACrC,QAAS,QAC/C,yBAAK7B,UAAU,QACb,yBAAKA,UAAU,mCAAoC,QACnD,yBAAKA,UAAU,eAAf,UACA,yBAAKA,UAAU,oBAAf,eACA,yBAAKA,UAAU,+BAAf,WAGDwN,M","file":"static/js/main.f4fc789a.chunk.js","sourcesContent":["import React from 'react';\nimport Api from './api';\n\nexport const initAuth = {\n  hostName: 'https://timetraker.herokuapp.com',\n  //hostName: 'http://localhost:4005',\n  token: null\n}\n\nconst AuthContext = React.createContext({ api: new Api({\n  hostName: initAuth.hostName \n})});\n\n\nexport default AuthContext;\n","function IF({status, children}) {\n  if(status) {\n    return children;\n  } else {\n    return null;\n  }\n}\n\nexport default IF;\n","module.exports = {\n  Modal: require('./ModalWindow.js').default,\n}\n","class Api {\n  constructor(props) {\n    this.token = props.token || null;\n    this.hostName = props.hostName;\n  }\n\n  setToken(token) {\n    this.token = token;\n  }\n\n  fetch(url) {\n    return fetch(url)\n    .then(response => response.json())\n    .then(response => {\n      if(response.status !== 'ok') {\n        return Promise.reject(response.error);\n      }\n\n      return Promise.resolve(response.response);\n    });\n  }\n\n  fetchPost(url, data) {\n    let formBody = `body=${JSON.stringify(data)}`;\n\n    return fetch(url, {\n      method: 'POST',\n      body: formBody\n    })\n    .then(response => response.json())\n    .then(response => {\n      if(response.status !== 'ok') {\n        return Promise.reject(response.error);\n      }\n\n      return Promise.resolve(response.response);\n    });\n  }\n\n  register(set) {\n    //const data = JSON.stringify({set});\n    const data = {set};\n    const url = `${this.hostName}?cmd=register&data=${data}`;\n    return this.fetchPost(url, data);\n  }\n\n  signIn(where) {\n    //const data = JSON.stringify({where});\n    const data = {where};\n    const url = `${this.hostName}?cmd=signin`;\n    return this.fetchPost(url, data);\n  }\n\n  add(model, set) {\n    const data = JSON.stringify({model, set});\n    const url = `${this.hostName}?cmd=add&data=${data}&sig=${this.token}`;\n    return this.fetch(url);\n  }\n\n  update(model, set, where) {\n    const data = JSON.stringify({model, set, where});\n    const url = `${this.hostName}?cmd=update&data=${data}&sig=${this.token}`;\n    return this.fetch(url);\n  }\n\n  list(model, where) {\n    const data = {model};\n\n    if(!isEmpty(where)) {\n      data.where = where;\n    }\n\n    const url = `${this.hostName}?cmd=list&data=${JSON.stringify(data)}&sig=${this.token}`;\n    return this.fetch(url); \n  }\n\n  view(model, id) {\n    const data = JSON.stringify({model, id});\n    const url = `${this.hostName}?cmd=view&data=${data}&sig=${this.token}`;\n    return this.fetch(url);\n  }\n\n  del(model, id) {\n    const data = JSON.stringify({model, id});\n    const url = `${this.hostName}?cmd=del&data=${data}&sig=${this.token}`;\n    return this.fetch(url);\n  }\n\n  exportExcel(model, where) {\n    const data = JSON.stringify({model, where});\n    const url = `${this.hostName}?cmd=excel&data=${data}&sig=${this.token}`;\n    console.log('export excel: ', data);\n    console.log('url: ', url);\n    //return this.fetch(url);\n    window.open(url);\n    return Promise.resolve(null);\n  }\n\n  desctiption(model) {\n    const data = JSON.stringify({model});\n    const url = `${this.hostName}?cmd=descriptor&data=${data}&sig=${this.token}`;\n    return this.fetch(url);\n  }\n}\n\nfunction isEmpty(obj) {\n    for(var key in obj)\n    {\n        return false;\n    }\n    return true;\n}\n\nexport default Api;\n\n//const api = new Api({\n//  cmd:'add',\n//  model: 'tasks',\n//  hostName: 'http://localhost:4005',\n//})\n//\n//api.fetch({task_client:'motoshar.ru', task_description: 'test'})\n//.then(console.lgo)\n//.catch(console.log);\n\n","module.exports = {\n  getMonth: require('./getMonth'),\n  formatDate\n}\n\nfunction formatTwoNumber(number) {\n  return (number > 9) ? number : '0'+number;\n}\n\nfunction formatDate(date) {\n  var y = date.getFullYear();\n  var m = date.getMonth()+1;\n  var d = date.getDate();\n\n  return `${y}-${formatTwoNumber(m)}-${formatTwoNumber(d)}`;\n}\n","const InputSelect = require('./SelectInput.js').default;\nexport default InputSelect; \n","const Label = require('./SelectLabel.js').default;\nexport default Label; \n","import React from 'react';\nimport Input from './Input';\nimport Label from './Label';\n\nfunction FieldSelect({type=\"\", label, value, onChange}) {\n  const [\n    typeComponent,\n    ...typeField\n  ] = type.toLocaleLowerCase().split('&');\n\n  switch(typeComponent) {\n    case \"delete\":\n      return null;\n    case \"label\":\n      return <Label type={typeField.join(\"&\")} label={label} value={value}/>\n    case \"input\":\n      return <Input type={typeField.join(\"&\")} label={label} value={value} \n        onChange={onChange} \n      />\n    default:\n      return <Input type={type} label={label} value={value} \n        onChange={onChange} \n      />\n  } \n}\n\nexport default FieldSelect;\n","import React from 'react';\nimport SelectField from './component/SelectField.js'; \n\nfunction Form({keys=[], fields={}, row={}, onChange}) {\n\n  return (\n    <div>\n      {\n        keys.map(key => \n          <SelectField type={fields[key]}\n            key={key + fields[key]}\n            label={key}\n            value={row[key]}\n            onChange={onChange}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nexport default Form;\n","import React from 'react';\nimport { Modal } from '../ModalWindow';\n\nfunction ModalFormDelete({ modelName, id, show, onClose, onDelete }) {\n  return (\n    <Modal show={show} onClick={onClose}>\n      {`Delete ${modelName} #${id}`}\n      <div>\n        <p>Are you sure you want to delete these Records?</p>\n        <small className=\"text-danger\">This action cannot be undone.</small>\n      </div>\n      <button className=\"btn btn-danger\"\n        onClick={onDelete}\n      >Delete</button>\n    </Modal>\n  );\n}\n\nexport default ModalFormDelete;\n","import React, {useState} from 'react';\nimport IF from '../../Form/component/IF.js';\n\nfunction Actions({onShow, onEdit, onDelete}) {\n  const [show, setShow] = useState(false);\n\n  return (\n    <div className=\"bi-container\">\n      <i className={`bi bi-btn ${(show) ?\n        \"bi-chevron-right\":\"bi-chevron-left\"}`} \n        onClick={() => setShow(!show)}\n      ></i>\n      <IF status={show}>\n        <i className=\"bi bi-btn bi-pencil\"\n          onClick={onEdit}\n        ></i>\n        <i className=\"bi bi-btn bi-plus\"\n          onClick={onShow}\n        ></i>\n        <i className=\"bi bi-btn bi-trash\"\n          onClick={onDelete}\n        ></i>\n      </IF>\n    </div>\n  );\n}\n\nexport default Actions;\n","import React, {useState} from 'react';\nimport Actions from './component/Actions.js';\nimport List from './List';\nimport IF from '../Form/component/IF.js';\n\nfunction ListGroup({rows=[], row={}, modelName}) {\n  const [show, setShow] = useState(false);\n  return [\n    <li key={row.id} className=\"list-group-item flex justify-content-between \">\n      <i className={`bi bi-btn ${(show)?\"bi-chevron-down\":\"bi-chevron-right\"}`} \n        onClick={() => setShow(!show)}>\n      </i>\n      {row.title}\n      <Actions modelName={modelName} id={row.id} row={row} />\n    </li>,\n    <IF key={row.id+\"list\"} status={show}>\n      <List  rows={rows} parent={row.id} modelName={modelName}/>\n    </IF>\n  ];\n}\n\nexport default ListGroup;\n","import React from 'react';\nimport ListGroup from './ListGroup.js';\nimport Actions from './component/Actions.js';\n\nfunction List({rows=[], parent=0, modelName, onDoubleClick}) {\n  /*\n   * Отображение списка\n   * row {id, title}\n   */\n  if (rows.length !== 0 && (!rows[0].hasOwnProperty('parent') || !rows[0].hasOwnProperty('isChildren')))\n  {\n    return (\n      <ul className=\"list-group list-group-flush\">\n      {rows.map(row => \n        <li key={row.id.toString()}\n          className=\"list-group-item flex justify-content-between\"\n          onDoubleClick={() => onDoubleClick(row)}\n        >\n          {row.title}\n          <Actions modelName={modelName} id={row.id} row={row} />\n        </li>\n      )}\n      </ul>\n    );\n  }\n  /*\n   * Отображение древовидного списка\n   * row {id, title, parent, isChildren}\n   * parent = id родителя\n   * idChildren = boolean если у елемента вложенные элементы\n   */\n  return (\n    <ul className=\"list-group list-group-flush\">\n      {\n        rows.filter(row => row.parent === parent)\n        .map(row => (row.isChildren) ?\n          <ListGroup key={row.id+\"listGroup\"}\n            rows={rows}\n            row={row}\n            modelName={modelName}\n            onDoubleClick={onDoubleClick}\n          /> : \n          <li key={row.id.toString()} \n            className=\"list-group-item flex justify-content-between\"\n            onDoubleClick={() => onDoubleClick(row)}\n          >\n            {row.title}\n            <Actions modelName={modelName} id={row.id} row={row} />\n          </li>\n        )\n      }\n    </ul>\n  );\n}\n\nexport default List;\n","import React from 'react';\nimport { Modal } from '../ModalWindow';\nimport List from '../TreeList/List.js';\n\nimport AuthContext from '../AuthContext';\n\nclass ModalFormSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      rows: [] \n    }\n  }\n  \n  componentDidMount() {\n    this.getAll();\n  }\n\n  getAll() {\n    const api = this.context.api;\n\n    return api.list(this.props.modelName)\n    .then(body => this.setState(() => ({\n      rows: body,\n      isLoadding: false\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n  }\n\n  render() {\n    const { modelName, show, onClose, onSelect } = this.props;\n    const { rows } = this.state;\n\n    return (\n      <Modal show={show} onClick={onClose} styleBody={{padding:0}}>\n        {`Select ${modelName}`}\n        <List modelName={modelName} rows={rows} onDoubleClick={onSelect}/>\n      </Modal>\n    );\n  }\n}\n\nModalFormSelect.contextType = AuthContext;\n\nexport default ModalFormSelect;\n","import React from 'react';\nimport AuthContext from '../../../AuthContext';\nimport IF from '../IF.js';\nimport { Modal } from '../../../ModalWindow';\nimport Form from '../../Form'; \nimport ModalFormDelete from '../../ModalFormDelete.js';\nimport ModalFormSelect from '../../ModalFormSelect.js';\nimport './Input-model.css';\n\nclass InputModel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoadding: false,\n      showRows: false,\n      showModalAddRow: false,\n      showModalEditRow: false,\n      showModalDeleteRow: false,\n      showModalSelectRow: false,\n      deleteRowId: 0,\n      desctiption: {keys:[], fields:{}},\n      row: {\n        title: \"Loadding ...\"\n      },\n      rows: [],\n      error: null,\n    }\n\n    this.handlerChange          = this.handlerChange.bind(this);\n    this.handleChangeRow        = this.handleChangeRow.bind(this);\n    this.handlerSelectRow       = this.handlerSelectRow.bind(this);\n    this.handleSelectNull       = this.handleSelectNull.bind(this);\n    this.handleAddRow           = this.handleAddRow.bind(this);\n    this.handleShowModalAddRow  = this.handleShowModalAddRow.bind(this);\n    this.handleShowModalEditRow = this.handleShowModalEditRow.bind(this);\n    this.handleShowRowsIsFocus  = this.handleShowRowsIsFocus.bind(this);\n    this.handleDeleteRow        = this.handleDeleteRow.bind(this);\n    this.handleUpdateRow        = this.handleUpdateRow.bind(this);\n    this.findByTitle = this.findByTitle.bind(this);\n    this.getRow = this.getRow.bind(this);\n  }\n\n  componentDidMount() {\n    const api = this.context.api;\n\n    api.desctiption(this.props.modelName)\n    .then(body => this.setState(() => ({\n      desctiption: body,\n      isLoadding: false\n    })))\n    .then(this.getRow)\n    .catch(err => this.setState(() => ({error: err.message})));\n\n    //\n    // Подумать как сделать ленивую загрузку !!!\n    //\n    this.findByTitle();\n  }\n\n  getRow() {\n    const { value, modelName } = this.props;\n\n    if (!value) {\n      return null;\n    }\n\n    return this.context.api.view(modelName, value)\n    .then(rows => this.setState(() => ({\n      row: (rows.length > 0) ? rows[0] : { title: value }\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n  }\n\n  findByTitle(title) {\n    const api = this.context.api;\n    const where = (title) ? {title: `LIKE-${title}`} : {};\n\n    return api.list(this.props.modelName, where)\n    //.then(body => (console.log(body), body))\n    .then(body => this.setState(() => ({\n      rows: body,\n      row:{title},\n      isLoadding: false\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n  }\n\n  handleAddRow() {\n    this.setState({isLoadding: true});\n\n    return this.context.api.add(this.props.modelName, this.state.row)\n    .then(() => this.findByTitle(this.state.row.title))\n    .then(body => this.setState(state => {\n      const row = state.rows.find(row => row.title === state.row.title);\n\n      return {\n        isLoadding: false,\n        showModalAddRow: false,\n        showRows: false,\n        row   \n      }\n    }))\n    .catch(err => this.setState(() => ({error: err.message})));\n  }\n\n  handleDeleteRow() {\n    return this.context.api\n    .del(this.props.modelName, this.state.deleteRowId)\n    .then(() => this.setState(() =>({\n      showModalDeleteRow: false,\n      showModalEditRow: false,\n      rows: this.state.rows.filter(row => row.id !== this.state.deleteRowId)\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n  }\n\n  handlerChange({target}) {\n    this.findByTitle(target.value);\n  }\n\n  handlerShowRows(value) {\n    this.setState(() => ({showRows: value}))\n  }\n\n  handleShowRowsIsFocus() {\n    return this.findByTitle()\n    .then(() => this.setState(() => ({\n      showRows: true,\n      row: {title: \"\"}\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n\n  }\n\n  handleShowModalAddRow(value) {\n    this.setState(() => ({\n      showModalAddRow: value,\n      row: {}\n    }))\n  }\n\n  handleShowModalEditRow(value) {\n    if (!this.state.row.hasOwnProperty('id')) {\n      value = false; \n    }\n\n    this.setState(() => ({showModalEditRow: value}))\n  }\n\n  handleChangeRow(key, value) {\n    this.setState(() => ({row: {\n      ...this.state.row,\n      [key]: value\n    }}))\n  }\n\n  handlerSelectRow(row) {\n    this.setState({\n      showRows: false,\n      showModalSelectRow: false,\n      row\n    })\n\n    if(this.props.onChange) {\n      this.props.onChange(this.props.label, row.id);\n    }\n  }\n\n  handleSelectNull() {\n    this.setState({\n      showRows: false,\n      showModalSelectRow: false,\n      row: {title: \"\"}\n    })\n\n    if(this.props.onChange) {\n      this.props.onChange(this.props.label, undefined);\n    }\n  }\n\n  handleUpdateRow() {\n    return this.context.api\n    .update(this.props.modelName, this.state.row, {\n      id: this.state.row.id\n    })\n    .then(() => this.setState(state => ({\n      showModalEditRow: false,\n      rows: state.rows\n        .map(row => (row.id === state.row.id)? state.row: row)\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n  }\n\n  render() {\n    const { label } = this.props;\n\n    return (\n      <div className=\"form-group mt-2\" key={\" modal form \"+this.props.modelName}>\n        <IF status={!!label}>\n          <label htmlFor={label}>{label}</label>\n        </IF>\n        <div className={`input-group ${(this.state.showRows)?\"show\":\"\"}`}>\n          <input type=\"text\"\n            id={label}\n            className=\"form-control Filter-input\"\n            placeholder={`Filter to model list`}\n            onChange={this.handlerChange}\n            value={this.state.row.title}\n            onFocus={this.handleShowRowsIsFocus}\n          />\n\n          <div className=\"input-group-append\">\n            <button className=\"btn btn-outline-secondary Filter-btn-show\"\n              type=\"button\"\n              onClick={this.handleShowModalEditRow}\n            >\n              <i className=\"bi bi-files\"></i>\n            </button>\n            <button className=\"btn btn-outline-secondary Filter-btn-show\"\n              onClick={() => this.handlerShowRows(!this.state.showRows)}\n              type=\"button\"\n            >\n              <i className=\"bi bi-chevron-down\"></i>\n            </button>\n          </div>\n\n        </div>\n\n        <IF status={this.state.showRows}>\n        <div className=\"card Filter-list\">\n          <ul className=\"list-group list-group-flush\">\n          <IF status={(this.state.rows.length === 0 \n            && this.state.row.title !== \"\")}\n          >\n            <li className=\"list-group-item Filter-list-item\"\n              onClick={this.handleAddRow}\n            >\n              Create\n            </li>\n          </IF>\n          {this.state.rows.map( row => \n            <li  className=\"list-group-item Filter-list-item flex justify-content-between\"\n              key={row.id+row.title}\n              onClick={({target}) => {\n                if(target.classList.contains('list-group-item')) {\n                  return this.handlerSelectRow(row)\n                }\n\n                return this.setState(state => ({\n                  showModalDeleteRow: true,\n                  deleteRowId: row.id\n                }))\n              }}\n            >\n              {row.title}\n              <i className=\"bi bi-x\"></i>\n            </li>\n          )}\n          </ul>\n          <div className=\"card-footer p-0 flex justify-content-end\">\n            <div className=\"btn-group\">\n              <button className=\"btn btn-outline-secondary\"\n                style={{borderRadius: 0}}\n                onClick={this.handleSelectNull}\n              >\n                <i className=\"bi bi-x\"></i>\n              </button>\n              <button className=\"btn btn-outline-secondary\"\n                style={{borderRadius: 0}}\n                onClick={() => this.setState(() => ({\n                  showModalSelectRow: true \n                }))}\n              >\n                <i className=\"bi bi-list-task\"></i>\n              </button>\n              <button className=\"btn btn-outline-secondary\" \n                style={{borderRadius: \"0 0 0.25rem 0\"}}\n                onClick={() => this.handleShowModalAddRow(true)}\n              >\n                <i className=\"bi bi-plus\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n        </IF>\n        <IF status={this.state.showModalAddRow}>\n          <Modal \n            show={this.state.showModalAddRow} \n            onClick={() => this.handleShowModalAddRow(false)}\n          >\n            {`Add new ${this.props.modelName}`}\n            <Form\n              row={this.state.row}\n              keys={this.state.desctiption.keys}\n              fields={this.state.desctiption.fields}\n              onChange={this.handleChangeRow}\n            />\n            <button className=\"btn btn-success\"\n              onClick={this.handleAddRow}\n            >Add</button>\n          </Modal>\n        </IF>\n        <IF status={this.state.showModalEditRow}>\n          <Modal \n            show={this.state.showModalEditRow} \n            onClick={() => this.handleShowModalEditRow(false)}\n          >\n            {`Edit ${this.props.modelName}`}\n            <Form\n              row={this.state.row}\n              keys={this.state.desctiption.keys}\n              fields={this.state.desctiption.fields}\n              onChange={this.handleChangeRow}\n            />\n            <button className=\"btn btn-success\"\n              onClick={this.handleUpdateRow}\n            >Update</button>\n            <button className=\"btn btn-danger\"\n              onClick={() => this.setState(state => ({\n                showModalDeleteRow: true,\n                deleteRowId: state.row.id\n              }))}\n            >Delete</button>\n          </Modal>\n        </IF>\n        <IF status={this.state.showModalDeleteRow}>\n          <ModalFormDelete\n            show={this.state.showModalDeleteRow}\n            modelName={this.props.modelName}\n            id={this.state.deleteRowId}\n            onClose={() => this.setState(() => ({\n              showModalDeleteRow: false\n            }))}\n            onDelete={this.handleDeleteRow}\n          />\n        </IF>\n        <IF status={this.state.showModalSelectRow}>\n          <ModalFormSelect\n            show={this.state.showModalSelectRow}\n            modelName={this.props.modelName}\n            rows={this.state.rows}\n            onClose={() => this.setState(() => ({\n              showModalSelectRow: false\n            }))}\n            onSelect={this.handlerSelectRow}\n          />\n        </IF>\n      </div>\n    );\n  }\n}\n\nInputModel.contextType = AuthContext;\n\nexport default InputModel;\n","import React from 'react';\nimport './Month.css';\nimport {getMonth, formatDate} from './core';\n\nfunction Days({className, days, selectDay, date, currentMonth, currentDay, onClick}) {\n  return days.map((el, id) => { \n    if(currentMonth && currentDay === el) {\n      return <div className={className} key={id}>\n        <div className=\"curretnDay\" onClick={() => onClick(el)}>{el}</div>\n      </div>\n    }\n\n    if(selectDay && date) {\n      let d = formatDate(new Date(date.getFullYear(), date.getMonth(), el))\n      if(selectDay.includes(d)) { \n        return <div className={className} key={id}>\n          <div className=\"selectDay\" onClick={() => onClick(el)}>{el}</div>\n        </div>\n      }\n    } \n\n    return <div className={className} key={id} onClick={() => onClick(el)}>{el}</div>\n    }\n  );\n}\n\nfunction Month({date, select, onChange}) {\n  date = new Date(date.getFullYear(), date.getMonth());\n  let calendar = getMonth(date);\n\n  return(\n    <div>\n      <div className=\"Month-title\">\n      <div onClick={() => onChange('month')}>{date.toLocaleString('ru', {year:'numeric', month: 'long'})}</div>\n      <div>\n        <button onClick={() => onChange('previous')} className=\"btn\">{'<'}</button>\n        <button onClick={() => onChange('next')} className=\"btn\">{'>'}</button>\n      </div>\n      </div>\n      <div className=\"gridMont\">\n        <Days onClick={()=>{}} className=\"otherTextStyle\" days={calendar[0]}/> \n        <Days onClick={()=>{}} className=\"otherTextStyle\" days={calendar[1]}/> \n        <Days onClick={onChange} days={calendar[2]} \n          currentMonth={calendar[4]} \n          currentDay={calendar[5]}\n          selectDay={select}\n          date={date}\n        /> \n        <Days onClick={()=>{}} className=\"otherTextStyle\" days={calendar[3]}/> \n      </div>\n    </div>\n  )\n}\n\n\nexport default Month;\n\n","module.exports = {\n  Tasks: require('./Tasks').default,\n}\n","module.exports = {\n  Timer: require('./Timer').default\n}\n","module.exports = {\n  Month: require('./Month').default,\n  FilterDate: require('./FilterDate').default\n}\n","import React from 'react';\nimport './Timer.css';\nimport AuthContext from '../AuthContext';\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      run: false,\n      timer_begin_date: null,\n      timer_end_date: null, \n      time: 0,\n      timerId: null,\n      extraTime: 0,\n      timers: []\n    }\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.context.api.list('timers', {task_id: this.props.task_id})\n    .then(response => this.setState(() => ({timers: response, extraTime: this.getExtraTime(response)})))\n    .catch(console.log);\n  }\n\n  onClick() {\n    this.setState(state => {\n      const newState = {};\n\n      if(state.run) {\n        clearInterval(this.timerId);\n        newState.run = false; \n        newState.timer_end_date = new Date();\n\n        if(state.time >= 60000) {\n          newState.timers = [\n            {timer_begin_date: state.timer_begin_date, timer_end_date: newState.timer_end_date},\n            ...state.timers\n          ];\n          newState.extraTime = this.getExtraTime(newState.timers);\n          newState.time = 0;\n\n          console.log('Timer onClick: ',newState.timer_end_date);\n          this.context.api.add('timers', {\n            task_id: this.props.task_id,\n            timer_begin_date: state.timer_begin_date,\n            timer_end_date: newState.timer_end_date\n          })\n        }\n\n        return newState;\n      }\n\n      this.timerId = setInterval(() => {\n        this.setState(() => ({time: this.getTime()}))\n      }, 200);\n\n      return {run: true, timer_begin_date: new Date(), timer_end_date: null}\n    })\n  }\n\n  getExtraTime(timers) {\n    return timers.reduce((sum, timer) => {\n      const end = (typeof timer.timer_end_date === 'string') ?\n        new Date(timer.timer_end_date) : timer.timer_end_date;\n      const begin = (typeof timer.timer_begin_date === 'string') ?\n        new Date(timer.timer_begin_date) : timer.timer_begin_date;\n\n      return sum + (end - begin)\n    }, 0);\n  }\n\n  getTime() {\n    if(this.state.timer_begin_date === null) {\n      return 0;\n    }\n\n    if(this.state.timer_end_date === null) {\n      return (new Date() - this.state.timer_begin_date);\n    }\n\n    return (this.state.timer_end_date - this.state.timer_begin_date);\n  }\n\n  time(time) {\n    return { \n      h: Math.trunc((time / 3600000) % 60),\n      m: Math.trunc((time / 60000) % 60),\n      s: Math.trunc((time / 1000) % 60)\n    }\n  }\n\n  TimeFormat({h,m,s}) {\n\n    h = h > 9 ? h : '0'+h;\n    m = m > 9 ? m : '0'+m;\n    s = s > 9 ? s : '0'+s;\n\n    return `${h}:${m}:${s}`;\n  }\n\n  TimeFormatH({h, m}) {\n    return (h + (m / 60)).toFixed(2)\n  }\n\n  render() {\n    var time = this.time(this.state.time + this.state.extraTime);\n    var className = (this.state.run) ? 'Timer-btn Timer-btn-danger': 'Timer-btn Timer-btn-success';\n    return (\n      <div className=\"Timer\">\n        <button className={className} onClick={this.onClick}>\n          {this.TimeFormat(time)} - {this.TimeFormatH(time)}\n        </button>\n      </div>\n    );\n  }\n\n}\n\nTimer.contextType = AuthContext\n\nexport default Timer;\n","const daysInMonth = require('./daysInMonth');\nconst title = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];\n\n/**\n * return @ array 49 el\n * */\nfunction get(date) {\n  const dayWeek = date.getDay();\n  const namberDaysCurrentMonth = daysInMonth(date);\n  const namberDaysLastMonth = daysInMonth(new Date(date.getFullYear(), date.getMonth() - 1)); \n  const daysNext = 42 - (dayWeek + namberDaysCurrentMonth);\n\n  let currentDate = new Date();\n  let currentMonth = currentDate.getMonth() === date.getMonth();\n  let currentDay = (currentMonth) ? new Date().getDate() : 0; \n\n  return [\n    title,\n\n    new Array(dayWeek)\n    .fill()\n    .map((el,id) => namberDaysLastMonth - id)\n    .reverse(),\n\n    new Array(namberDaysCurrentMonth)\n    .fill()\n    .map((el, id) => id + 1),\n\n    new Array(daysNext)\n    .fill()\n    .map((el,id) => 1 + id),\n\n    currentMonth,\n    currentDay\n  ] \n}\n\nmodule.exports = get;\n","\nfunction daysInMonth(date) {\n  return 32 - new Date(date.getFullYear(), date.getMonth(), 32)\n    .getDate();\n};\n\nmodule.exports = daysInMonth;\n","import React from 'react';\nimport Month from './Month';\nimport { formatDate } from './core';\n\nclass FilterDate extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      currentDate: new Date(),\n      select: [],\n    }\n\n    this.onChangeFilter = this.onChangeFilter.bind(this);\n  }\n\n  getFirstAndLastMonth(date) {\n    return { \n      from: new Date(date.getFullYear(), date.getMonth(), 1),\n      to: new Date(date.getFullYear(), date.getMonth() + 1, 0),\n    }\n\n  }\n\n  onChangeFilter(value) {\n      var state = this.state;\n      var newState = {};\n      var date = state.currentDate;\n\n      switch(value) {\n        case 'month':\n          newState = {\n            currentDate: new Date(),\n            select: []\n          }\n          break;\n        case 'next':\n          newState = {\n            ...state,\n            currentDate: new Date(date.getFullYear(), date.getMonth() + 1)\n          }\n          break;\n        case 'previous':\n          newState = {\n            ...state,\n            currentDate: new Date(date.getFullYear(), date.getMonth() - 1)\n          }\n          break;\n        default: {\n          if(!isNaN(Number(value))) {\n            let year = date.getFullYear();\n            let month = date.getMonth();\n            let day = Number(value);\n            let d = formatDate(new Date(year, month, day))\n            //let d = `${year}-${month}-${day}`\n            //new Date(date.getFullYear(), date.getMonth(), Number(value))\n\n            newState = {\n              select: (state.select.includes(d)) ? state.select.filter(el => el !== d) : [...state.select, d]\n              //select: [...state.select, Number(value)]\n            }\n          } else {\n            newState = {};\n          }\n        }\n      }\n\n      if(this.props.onChange) {\n        if(newState.select.length === 0) {\n          let date = (newState.currentDate) ? newState.currentDate: state.currentDate;\n          this.props.onChange(this.getFirstAndLastMonth(date));\n        } else {\n          this.props.onChange(newState.select);\n        }\n      }\n\n      this.setState(state => newState);\n  }\n\n  render() {\n    return (\n      <Month \n        onChange={this.onChangeFilter}\n        date={this.state.currentDate}\n        select={this.state.select}\n      />\n    );\n  }\n}\n\nexport default FilterDate;\n","import React from 'react';\nimport './ModalWindow.css';\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onClose = this.onClose.bind(this);\n  } \n  onClose({target}) {\n    if(target.classList.contains('modal')) {\n      return this.props.onClick();\n    }\n  }\n  render() {\n      if(this.props.show) {\n        const { styleBody={} } = this.props;\n        const [title, body, ...buttons] = this.props.children;\n\n        return [\n          <div className=\"modal\" style={{display: 'block'}} role=\"dialog\" onClick={this.onClose}>\n            <div className=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  {title}\n                  <button onClick={this.props.onClick} type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\" style={styleBody}>\n                  {body}\n                </div>\n                <div className=\"modal-footer\">\n                  <button key=\"close\" type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={this.props.onClick}>Close</button>\n                  {buttons}\n                </div>\n              </div>\n            </div>\n          </div>,\n          <div className=\"modal-backdrop\" >\n          </div>\n        ];\n      } else {\n        return null;\n      }\n  }\n}\n\nexport default Modal;\n","import FilterCategory from './FilterCategory.js';\n\nexport default FilterCategory;\n","import React from 'react';\nimport InputModel from '../Form/component/Input/Input-model.js';\n\nexport default InputModel;\n","import Form from './Form.js';\n\nexport default Form;\n","import React from 'react';\nimport { Tasks } from './Tasks';\nimport { FilterDate } from './calendar';\nimport './Page.css';\nimport AuthContext from './AuthContext';\nimport Filter from './Filter'; \nimport Form from './Form';\nimport IF from './Form/component/IF.js';\nimport {Modal} from './ModalWindow';\nimport ModalFormDelete from './Form/ModalFormDelete.js';\n\nfunction formatTwoNumber(number) {\n  return (number > 9) ? number : '0'+number;\n}\n\nfunction formatDate(date) {\n  var y = date.getFullYear();\n  var m = date.getMonth()+1;\n  var d = date.getDate();\n\n  return `${y}-${formatTwoNumber(m)}-${formatTwoNumber(d)}`;\n}\n\nclass PageTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    var date = new Date();\n    var firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n    var lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\n    this.state = {\n      isLoadding: false,\n      isError: false,\n      clients: [],\n      tasks: [],\n      timers: [],\n      filter: {\n        date_create:{\n          from: formatDate(firstDay),\n          to: formatDate(lastDay)\n        }\n      },\n      modal: false,\n      modalNew: false,\n      modalDelete: false,\n      formTask: {},\n      modelName: 'task',\n      keys: [],\n      fields: {}\n    }\n\n    this.getTasks = this.getTasks.bind(this);\n    this.onUpdate = this.onUpdate.bind(this);\n    this.onDel    = this.onDel.bind(this);\n    this.onAdd = this.onAdd.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.handleShowTask   = this.handleShowTask.bind(this);\n    this.handleChange     = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.context.api.desctiption(this.state.modelName)\n    .then(body => this.setState(() => ({\n      keys: body.keys || [],\n      fields: body.fields || {},\n      isLoadding: false,\n      isError: false,\n    })))\n    .catch(err => this.setState(() => ({error: err.message})));\n\n    this.getTasks();\n  }\n\n  getTasks(state) {\n    if(!state) {\n      state = this.state;\n    }\n\n    return this.context.api.list(this.state.modelName, state.filter)\n    .then(response => {\n      return this.setState(() => ({\n        ...state,\n        tasks: response,\n        isLoading: false,\n        isError: false\n      }));\n    })\n    .catch(err => \n      this.state.setState(() => ({...state, isError: true, isLoading: false}))\n    )\n  }\n\n  onUpdate() {\n    return this.context.api\n    .update(this.state.modelName, this.state.formTask, {\n      id: this.state.formTask.id\n    })\n    .then(() => this.setState(state => ({\n      modal: false,\n      madalNew: false,\n      tasks: state.tasks\n        .map(task => (task.id === state.formTask.id)? state.formTask: task)\n    })))\n    .catch(console.log);\n  }\n\n  onDel() {\n    return this.context.api\n    .del(this.state.modelName, this.state.formTask.id)\n    .then(() => this.props.setState(state => ({\n      modal: false,\n      madalNew: false,\n      modalDelete:false,\n      tasks: state.tasks.filter(task => task.id !== this.props.formTask.id)\n    })))\n    .catch(console.log);\n  }\n\n  onAdd(set) {\n    for(var key in set) {\n      if(set[key] === '') {\n        return null;\n      }\n    }\n    this.context.api.add(this.state.modelName, set)\n    .then(() => this.getTasks({...this.props, modal: false}))\n    .catch(console.log);\n  }\n\n  handleChange(key, value) {\n    console.log(key, value);\n    return this.setState(() => ({\n      formTask: {\n        ...this.state.formTask,\n        [key]: value\n      } \n    }))\n  }\n\n  \n  handleShowTask(target, id) {\n    if(target.classList.contains('Timer-btn')) {\n      return undefined;\n    }\n\n    const task = this.state.tasks\n      .find(task => task.id === id);\n\n    this.setState(() => ({formTask: task, modal: true, modalNew: false}));\n  }\n\n  handleCloseModal() {\n    this.setState(() => ({\n      modal: false,\n      modalNew: false\n    }))\n  }\n\n  render() {\n    console.log(this.state)\n    return (\n      <div className=\"App\">\n        <div className=\"Page\">\n          <div className=\"Header\">\n            <nav className=\"navbar navbar-light bg-light\">\n              <a className=\"navbar-brand\" href=\"/\">Time Tracker</a>\n              <div className=\"btn-group\">\n                <button className=\"btn btn-outline-success\"\n                  type=\"button\"\n                  onClick={() => this.setState({\n                    modal: true,\n                    modalNew: true,\n                    formTask: {\n                      category_id: this.state.filter.category_id,\n                      date_create: new Date().getTime()\n                    }\n                  })}\n                >New Task</button>\n                <button className=\"btn btn-outline-success\"\n                  type=\"button\"\n                  onClick={() => {\n                    this.context.api\n                    .exportExcel(this.state.modelName, this.state.filter)\n                    .then(console.log)\n                    .catch(console.log)\n                  }}\n                >Export excel</button>\n                <button className=\"btn btn-outline-danger\"\n                  type=\"button\"\n                  onClick={() => this.context.signOff()}\n                >Sign out</button>\n              </div>\n            </nav>\n          </div>\n          <div className=\"Nav\">\n            <FilterDate \n              onChange={date_create => \n                this.getTasks({...this.state, filter:{...this.state.filter, date_create}})}\n            />\n            <Filter\n              label={\"Filter category\"}\n              value={this.state.filter.task_parent}\n              modelName=\"category\"\n              onChange={(key, value) => \n                this.getTasks({...this.state, filter:{\n                  ...this.state.filter,\n                  category_id: value \n              }})}\n            />\n            <Filter\n              label={\"Filter client\"}\n              value={this.state.filter.task_parent}\n              modelName=\"client\"\n              onChange={(key, value) => \n                this.getTasks({...this.state, filter:{\n                  ...this.state.filter,\n                  client_id: value \n              }})}\n            />\n          </div>\n          <div className=\"Article\">\n            <Tasks\n              tasks={this.state.tasks}\n              error={this.state.isError}\n              loading={this.state.isLoading}\n              onShowTask={this.handleShowTask}\n            />\n          </div>\n        </div>\n        <IF status={this.state.modalNew && this.state.modal}>\n          <Modal show={this.state.modal} onClick={this.handleCloseModal}>\n            <h5 key=\"title\" className=\"modal-title\">New task</h5>\n            <Form\n              row={this.state.formTask}\n              keys={this.state.keys}\n              fields={this.state.fields}\n              onChange={this.handleChange}\n            />\n            <button key=\"add\" \n              onClick={() => this.onAdd(this.state.formTask)}\n              className=\"btn btn-success\"\n            >Add</button>\n          </Modal>\n        </IF>\n        <IF status={!this.state.modalNew && this.state.modal}>\n          <Modal show={this.state.modal} onClick={this.handleCloseModal}>\n            <h5 key=\"title\" className=\"modal-title\">Show task</h5>\n            <Form\n              row={this.state.formTask}\n              keys={this.state.keys}\n              fields={this.state.fields}\n              onChange={this.handleChange}\n            />\n            <button key=\"delete\" \n              onClick={() => this.setState(() => ({modalDelete: true}))}\n              className=\"btn btn-danger\"\n            >Delete</button>,\n            <button key=\"update\" \n              onClick={this.onUpdate} \n              className=\"btn btn-success\"\n            >Update</button>\n          </Modal>\n        </IF>\n        <IF status={this.state.modalDelete}>\n          <ModalFormDelete\n            show={this.state.modalDelete}\n            modelName={this.props.modelName}\n            id={this.state.formTask.id}\n            onDelete={this.onDel}\n            onClose={() => this.setState(() => ({modalDelete: false}))}\n          />\n        </IF>\n      </div>\n    );\n  }\n}\n\nPageTask.contextType = AuthContext;\n\nexport default PageTask;\n","import React from 'react';\nimport './SignIn.css';\n\nfunction SignIn({signin, register, onChange, user_name, password, remember}) {\n  return (\n    <div className=\"form-signin\">\n      <div className=\"text-center mb-4\">\n        <h1 className=\"h3 mb-3 font-weight-normal\">Time Tracker</h1>\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"InputUsername\">Username</label>\n        <input type=\"text\"\n          className=\"form-control\"\n          id=\"InputUsername\"\n          aria-describedby=\"usernameHelp\"\n          placeholder=\"Username\"\n          name=\"user_name\"\n          onChange={onChange}\n          value={user_name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"exampleInputPassword1\">Password</label>\n        <input type=\"password\"\n          className=\"form-control\"\n          id=\"exampleInputPassword1\"\n          placeholder=\"Password\"\n          name=\"password\"\n          onChange={onChange}\n          value={password}\n        />\n      </div>\n      <div className=\"form-group form-check\">\n        <input type=\"checkbox\"\n          className=\"form-check-input\"\n          id=\"exampleCheck1\"\n          name=\"remember\"\n          onChange={onChange}\n          checked={remember}\n        />\n        <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Remember me</label>\n      </div>\n      <div className=\"btn-group btn-group-lg btn-group-form\" role=\"group\" aria-label=\"Basic example\">\n        <button className=\"btn btn-outline-primary\"\n          type=\"submit\"\n          onClick={register}\n        >Register</button>\n        <button className=\"btn btn-primary\"\n          type=\"submit\"\n          onClick={signin}\n        >Sign in</button>\n      </div>\n      <p className=\"mt-5 mb-3 text-muted text-center\">&copy; 2019</p>\n    </div>\n  );\n}\n\nexport default SignIn;\n","import React from 'react';\nimport './SignIn.css';\n\nfunction Register({signin, register, onChange, email, user_name, password, remember}) {\n  return (\n    <div className=\"form-signin\">\n      <div className=\"text-center mb-4\">\n        <h1 className=\"h3 mb-3 font-weight-normal\">Time Tracker</h1>\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"InputEmail\">Email</label>\n        <input type=\"email\"\n          className=\"form-control\"\n          id=\"InputEmail\"\n          aria-describedby=\"emailHelp\"\n          placeholder=\"Email\"\n          name=\"email\"\n          onChange={onChange}\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"InputUsername\">Username</label>\n        <input type=\"text\"\n          className=\"form-control\"\n          id=\"InputUsername\"\n          aria-describedby=\"usernameHelp\"\n          placeholder=\"Username\"\n          name=\"user_name\"\n          onChange={onChange}\n          value={user_name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"exampleInputPassword1\">Password</label>\n        <input type=\"password\"\n          className=\"form-control\"\n          id=\"exampleInputPassword1\"\n          placeholder=\"Password\"\n          name=\"password\"\n          onChange={onChange}\n          value={password}\n        />\n      </div>\n      <div className=\"form-group form-check\">\n        <input type=\"checkbox\"\n          className=\"form-check-input\"\n          id=\"exampleCheck1\"\n          name=\"remember\"\n          onChange={onChange}\n          checked={remember}\n        />\n        <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Remember me</label>\n      </div>\n      <div className=\"btn-group btn-group-lg btn-group-form\" role=\"group\" aria-label=\"Basic example\">\n        <button className=\"btn btn-primary\"\n          type=\"submit\"\n          onClick={register}\n        >Register</button>\n        <button className=\"btn btn-outline-primary\"\n          type=\"submit\"\n          onClick={signin}\n        >Sign in</button>\n      </div>\n      <p className=\"mt-5 mb-3 text-muted text-center\">&copy; 2019</p>\n    </div>\n  );\n}\n\nexport default Register;\n","export function setItem(key, value) {\n  if(!window.localStorage) {\n    return null;\n  }\n\n  localStorage.setItem(key, value);\n}\n\nexport function getItem(key) {\n  if (!window.localStorage\n  && !window.localStorage.length) {\n    return null;\n  }\n\n  return localStorage.getItem(key);\n}\n\nexport function removeItem(key) {\n  if (!window.localStorage) {\n    return false;\n  }\n\n  return localStorage.removeItem(key);\n} \n","import React from 'react';\nimport SignIn from './SignIn';\nimport Register from './Register';\nimport AuthContext from '../AuthContext';\nimport Api from '../api';\nimport {initAuth} from '../AuthContext'\nimport {getItem, setItem, removeItem} from '../localStorage';\n\nclass Auth extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let token = null;\n    let remember = (getItem('remember') === \"true\") ? true : false;\n    \n    if(!remember) {\n      removeItem('token');\n    } else {\n      token = getItem('token');\n    }\n\n    this.state = {\n      user_name: '',\n      password: '',\n      remember: remember,\n      status: 'signin',\n      api: new Api({\n        hostName: initAuth.hostName,\n        token: token || initAuth.token\n      }),\n      authorized: (remember && token) ? true : false,\n    }\n\n    this.register = this.register.bind(this);\n    this.signIn = this.signIn.bind(this);\n    this.signOff = this.signOff.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  signOff() {\n    removeItem('token');\n    removeItem('remember');\n\n    this.setState(() => ({\n      authorized: false\n    }))\n  }\n\n  onChange({target}) {\n    this.setState(() => {\n      if(target.hasOwnProperty('checked')) {\n        return {\n          [target.name] : target.checked\n        }\n      }\n      return {\n        [target.name] : target.value\n      }\n    })\n  }\n\n  signIn() {\n    return this.state.api.signIn({\n      user_name: this.state.user_name,\n      password: this.state.password\n    })\n    .then(({token}) => {\n      setItem('token', token);\n      setItem('remember', this.state.remember);\n\n      this.setState(() => ({\n        api: new Api({\n          hostName: initAuth.hostName,\n          token\n        }),\n        authorized: (token) ? true : false\n      }))\n    })\n    .catch(console.log);\n  }\n\n  register() {\n    return this.state.api.register({\n      user_name: this.state.user_name,\n      password: this.state.password,\n      email: this.state.email,\n      type: 'user'\n    })\n    .then(({token}) => this.signIn(token))\n    .catch(console.log);\n  }\n\n  render() {\n    if(this.state.authorized) {\n      return (\n        <AuthContext.Provider value={{\n          api: this.state.api,\n          signOff: this.signOff\n        }}>\n          {this.props.children};\n        </AuthContext.Provider>\n      )\n    }\n\n    if(this.state.status === 'signin') {\n      return <SignIn {...this.state}\n        register={() => this.setState(() => ({status: 'register'}))}\n        signin={this.signIn}\n        onChange={this.onChange} />\n    }\n\n    if(this.state.status === 'register') {\n      return <Register {...this.state}\n        signin={() => this.setState(() => ({status: 'signin'}))}\n        register={this.register}\n        onChange={this.onChange} />\n    }\n\n  }\n\n}\n\nAuth.contextType = AuthContext;\n\nexport default Auth;\n","import React from 'react';\nimport PageTask from './PageTask';\nimport Auth from './Auth';\nimport './icons.css';\n\nclass App extends React.Component {\n  render() {\n    return (\n        <Auth>\n          <PageTask/>\n        </Auth>\n    );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nfunction Input({label, value, onChange}) {\n  const handlerChange = ({target}) => {\n    onChange(label, target.value);\n  }\n\n  return (\n    <div className=\"form-group\">\n\n      <label htmlFor={label}>\n        {label} \n      </label>\n\n      <input type=\"text\" \n        className=\"form-control\" \n        id={label} \n        placeholder={`Enter ${label}`}\n        value={value}\n        onChange={handlerChange}\n      />\n\n    </div>\n  );\n}\n\nexport default Input;\n","import React, {useState} from 'react';\n\nfunction InputDate({label, value, onChange}) {\n  const date = new Date(value);\n  const [times, setTime] = useState(date.toLocaleTimeString());\n  const [dates, setDate] = useState(date\n    .toLocaleDateString().split(\".\").reverse().join(\"-\")\n  );\n\n  const handlerChange = ({target}) => {\n    if(target.name === \"date\") {\n      setDate(target.value);\n    }\n    if(target.name === \"time\") {\n      setTime(target.value);\n    }\n\n    return onChange(label, new Date(`${dates}T${times}`).getTime())\n  }\n\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={label}>\n        date {label} \n      </label>\n\n      <div className=\"input-group\">\n        <input\n          type=\"date\"\n          name={\"date\"}\n          className=\"form-control\"\n          id={label}\n          placeholder={`Enter ${label}`}\n          value={dates}\n          onChange={handlerChange}\n        />\n        <input\n          type=\"time\"\n          name={\"time\"}\n          className=\"form-control\" \n          id={label} \n          placeholder={`Enter ${label}`}\n          value={times}\n          onChange={handlerChange}\n        />\n      </div>\n\n    </div>\n  );\n}\n\nexport default InputDate;\n","import React from 'react';\n\nfunction InputBoolean({label, value=false, onChange}) {\n\n  const handlerChange = ({target}) => {\n    onChange(label, Boolean(target.checked));\n  }\n \n  return (\n    <div className=\"form-group form-check\">\n      <input\n        type=\"checkbox\"\n        className=\"form-check-input\"\n        id={label}\n        checked={value}\n        onChange={handlerChange}\n      />\n      <label className=\"form-check-label\" htmlFor={label}>\n        Check {label}\n      </label>\n    </div>\n  );\n}\n\nexport default InputBoolean;\n","import React from 'react';\n\nfunction InputTextarea({label, value, onChange}) {\n  const handlerChange = ({target}) => {\n    onChange(label, target.value);\n  }\n\n  return (\n    <div className=\"form-group\">\n\n      <label htmlFor={label}>{label}</label>\n\n      <textarea \n        className=\"form-control\" \n        id={label}\n        rows=\"3\"\n        onChange={handlerChange}\n        placeholder={`Enter ${label}`}\n      >\n        {value}\n      </textarea>\n\n    </div>\n  );\n}\n\nexport default InputTextarea;\n","import React from 'react';\nimport Input from './Input.js';\nimport InputDate from './InputDate.js';\nimport InputModel from './Input-model.js'; \nimport InputBoolean from './Input-boolean.js';\nimport InputTextarea from './Input-textarea.js';\n\n/*\n *  \n */\nfunction SelectInput({type=\"\", label, value, onChange}) {\n  const [inputType, modelName] = type.split(\"&\");\n\n  switch(inputType.toLocaleLowerCase()) {\n    case \"date\":\n      return <InputDate label={label} value={value} onChange={onChange}/> \n    case \"boolean\":\n      return <InputBoolean label={label} value={value} onChange={onChange}/>\n    case \"text\":\n      return <InputTextarea label={label} \n        value={value} onChange={onChange}/>\n    case \"model\":\n      return <InputModel label={label} modelName={modelName}\n        value={value} onChange={onChange}\n      />\n    default:\n      return <Input label={label} value={value} onChange={onChange}/>\n  }\n}\n\nexport default SelectInput;\n","import React from 'react';\n\nfunction Label({label, value}) {\n  return (\n<div className=\"form-group row\">\n    <label htmlFor={label} className=\"col-sm-3 col-form-label\">\n      {label}\n    </label>\n    <div className=\"col-sm-9\">\n      <input \n        type=\"text\"\n        readOnly\n        className=\"form-control-plaintext\"\n        id={label}\n        defaultValue={value}\n      />\n    </div>\n  </div>\n  );\n}\n\nexport default Label;\n","import React from 'react';\n\nfunction LabelBoolean({label, value=false}) {\n \n  return (\n    <div className=\"form-group form-check\">\n      <input\n        type=\"checkbox\"\n        className=\"form-check-input\"\n        id={label}\n        defaultChecked={Boolean(value)}\n        readOnly\n      />\n      <label className=\"form-check-label\" htmlFor={label}>\n         {label}\n      </label>\n    </div>\n  );\n}\n\nexport default LabelBoolean;\n","import React from 'react';\nimport Label from './Label.js';\nimport LabelBoolean from './Label-boolean.js';\nimport dateToString from './lib/text/dateToString.js';\n\n/*\n *  \n */\nfunction SelectLabel({type=\"\", label, value}) {\n\n  const [inputType, modelName] = type.toLocaleLowerCase().split(\"-\");\n\n  switch(inputType) {\n    case \"date\":\n      return <Label label={label} value={dateToString(value)}/>\n    case \"boolean\":\n      return <LabelBoolean label={label} value={value}/>\n    case \"model\":\n    default:\n      return <Label label={label} value={value}/>\n  }\n}\n\nexport default SelectLabel;\n","export default function dateToString(str) {\n  return new Date(Number(str)).toLocaleDateString();\n}\n","import React from 'react';\nimport AuthContext from '../../../AuthContext.js';\n\nclass LabelModel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      row: {},\n      error: null\n    }\n  }\n\n  getModel() {\n    const {modelName, id} = this.props;\n\n    this.context.api.view(modelName, id)\n    .then(row => this.setState(() => ({row: row[0]})))\n    .catch(error => this.setState(() => ({error})));\n  }\n\n  componentDidMount() {\n    this.getModel();\n  }\n\n  render() {\n    const {id, label} = this.props;\n    const {row} = this.state;\n\n    if (row && row.hasOwnProperty(label||\"title\")) {\n      return row[label||\"title\"];\n    }\n\n    return id;\n\n  }\n}\n\nLabelModel.contextType = AuthContext\n\nexport default LabelModel;\n","import React from 'react';\nimport './Task.css';\nimport {Timer} from '../Timer';\nimport LabelModel from '../Form/component/Label/Label-model.js';\n\nfunction Task({id, date_create, client_id, title, onClick}) {\n  return (\n    <li onDoubleClick={onClick}  className=\"list-group-item list-group-item-action\" style={{padding: '0px', cursor: \"pointer\"}}>\n      <div key={id} className=\"Task\">\n        <div className=\"Task-date\" >{new Date(date_create).toLocaleDateString()}</div>\n        <div className=\"Task-client\" >\n          <LabelModel modelName=\"client\" id={client_id}/>\n        </div>\n        <div className=\"Task-description\" >{title}</div>\n        <div className=\"Task-timer\" >\n          <Timer task_id={id}/>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Task;\n","import React from 'react';\nimport './Tasks.css';\nimport Task from './Task';\n\nfunction Tasks({tasks, error, loading, onShowTask}) {\n  var tasksEl = [];\n  while (true) {\n    if(error) {\n      tasksEl.push(<div key='TasksError' className=\"TasksError\">Error loading tasks</div>); \n      break;\n    }\n  \n    if(loading) {\n      tasksEl.push(<div key='TakssLoading' className=\"TakssLoading\">... Loading tasks</div>); \n      break;\n    }\n\n    if(tasks && tasks.length > 0) {\n      tasksEl = tasks.map(task => <Task onClick={({target}) => onShowTask(target, task.id)}  key={task.id} {...task}/>);\n    } else {\n      tasksEl.push(<div key='NoTasks' className=\"NoTasks\">No tasks</div>); \n    }\n    break;\n  }\n\n  return (\n    <ul className=\"list-gruop\">\n      <li className=\"list-group-item\" style={{padding: '0px'}}>\n        <div className=\"Task\">\n          <div className=\"Task-date Task-heade-item-first\" >{'Date'}</div>\n          <div className=\"Task-client\" >Client</div>\n          <div className=\"Task-description\" >Description</div>\n          <div className=\"Task-timer Task-heade-timer\" >Timer</div>\n        </div>\n      </li>\n        {tasksEl}\n    </ul>\n  );\n}\n\nexport default Tasks;\n"],"sourceRoot":""}